<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>XML Plug-in</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://killercoda.com/devonfw">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc">XML Plug-in</a>
<ul class="sectlevel1">
<li><a href="#devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_trigger-extension">Trigger extension</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_container-matcher-type">Container Matcher type</a></li>
<li><a href="#devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_matcher-types">Matcher types</a></li>
<li><a href="#devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_variable-assignment-types">Variable Assignment types</a></li>
<li><a href="#devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_xml-input-reader">XML input reader</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_merger-extensions">Merger extensions</a></li>
</ul>
</li>
</ul>
<h1 id="devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc" class="sect0">XML Plug-in</h1>
<div class="paragraph">
<p>The CobiGen XML Plug-in comes with an input reader for XML artifacts, XML related trigger and matchers and provides different merge mechanisms for XML result documents.</p>
</div>
<div class="sect1">
<h2 id="devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_trigger-extension">Trigger extension</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>(since <code>cobigen-xmlplugin v2.0.0</code>)</em></p>
</div>
<div class="paragraph">
<p>The XML Plug-in provides a trigger for XML related inputs. It accepts XML documents as input (see <code><a href="#devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_xml-input-reader">XML input reader</a></code>) and provides additional matching and variable assignment mechanisms. The configuration in the <code>context.xml</code> for this trigger looks like this:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>type 'xml'</p>
<div class="listingblock">
<div class="title">Example of a XML trigger definition.</div>
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;trigger id="..." type="xml" templateFolder="..."&gt;
    ...
&lt;/trigger&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This trigger type enables XML documents as inputs.</p>
</div>
</li>
<li>
<p>type <code>xpath</code></p>
<div class="listingblock">
<div class="title">Example of a <code>xpath</code> trigger definition.</div>
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;trigger id="..." type="xpath" templateFolder="..."&gt;
    ...
&lt;/trigger&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This trigger type enables XML documents as container inputs, which consists of several sub-documents.</p>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_container-matcher-type">Container Matcher type</h3>
<div class="paragraph">
<p>A <code>ContainerMatcher</code> check if the input is a valid container.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>xpath</code>: type: <code>xpath</code></p>
<div class="listingblock">
<div class="title">Example of a XML trigger definition with a node name matcher.</div>
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;trigger id="..." type="xml" templateFolder="..."&gt;
    &lt;containerMatcher type="xpath" value="./uml:Model//packagedElement[@xmi:type='uml:Class']"&gt;
        ...
    &lt;/matcher&gt;
&lt;/trigger&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before applying any Matcher, this <code>containerMatcher</code> checks if the XML file contains a node <code>uml:Model</code> with a childnode <code>packagedElement</code> which contains an attribute <code>xmi:type</code> with the value <code>uml:Class</code>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_matcher-types">Matcher types</h3>
<div class="paragraph">
<p>With the trigger you might define matchers, which restrict the input upon specific aspects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>XML: type <code>nodename</code> &#8594; document&#8217;s root name matching</p>
<div class="listingblock">
<div class="title">Example of a XML trigger definition with a node name matcher</div>
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;trigger id="..." type="xml" templateFolder="..."&gt;
    &lt;matcher type="nodename" value="\D\w*"&gt;
        ...
    &lt;/matcher&gt;
&lt;/trigger&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This trigger will be enabled if the root name of the declaring input document matches the given regular expression (<code>value</code>).</p>
</div>
</li>
<li>
<p><code>xpath</code>: type: <code>xpath</code> &#8594; matching a node with a <code>xpath</code> value</p>
<div class="listingblock">
<div class="title">Example of a <code>xpath</code> trigger definition with a <code>xpath</code> matcher.</div>
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;trigger id="..." type="xml" templateFolder="..."&gt;
    &lt;matcher type="xpath" value="/packagedElement[@xmi:type='uml:Class']"&gt;
        ...
    &lt;/matcher&gt;
&lt;/trigger&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This trigger will be enabled if the XML file contains a node <code>/packagedElement</code> where the <code>xmi:type</code> property equals <code>uml:Class</code>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_variable-assignment-types">Variable Assignment types</h3>
<div class="paragraph">
<p>Furthermore, it provides the ability to extract information from each input for further processing in the templates. The values assigned by variable assignments will be made available in template and the <code>destinationPath</code> of <code>context.xml</code> through the namespace <code>variables.&lt;key&gt;</code>. The XML Plug-in currently provides only one mechanism:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>type 'constant' &#8594; constant parameter</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;trigger id="..." type="xml" templateFolder="..."&gt;
    &lt;matcher type="nodename" value="\D\w*"&gt;
        &lt;variableAssignment type="constant" key="domain" value="restaurant" /&gt;
    &lt;/matcher&gt;
&lt;/trigger&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This variable assignment assigns the <code>value</code> to the <code>key</code> as a constant.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_xml-input-reader">XML input reader</h3>
<div class="paragraph">
<p>The CobiGen XML Plug-in implements an input reader for parsed XML documents. So API user can pass <code>org.w3c.dom.Document</code> objects for generation. For getting the right parsed XML inputs you can easily use the <code>xmlplugin.util.XmlUtil</code>, which provides static functionality to parse XML files or input streams and get the appropriate <code>Document</code> object.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_template-object">Template object</h4>
<div class="paragraph">
<p>Due to the heterogeneous structure an XML document can have, the XML input reader does not always create exactly the same model structure (in contrast to the java input reader). For example the model&#8217;s depth differs strongly, according to it&#8217;s input document. To allow navigational access to the nodes, the model also depends on the document&#8217;s element&#8217;s node names. All child elements with unique names, are directly accessible via their names. In addition it is possible to iterate over all child elements with held of the child list <code>Children</code>. So it is also possible to access child elements with non unique names.</p>
</div>
<div class="paragraph">
<p>The XML input reader will create the following object model for template creation (<code><sub>EXAMPLEROOT</sub>, <sub>EXAMPLENODE1</sub>, <sub>EXAMPLENODE2</sub>, <sub>EXAMPLEATTR1</sub>,&#8230;&#8203;</code> are just used here as examples. Of course they will be replaced later by the actual node or attribute names):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><code>~EXAMPLEROOT~</code></strong> ('Map&lt;String, Object&gt;' :: common element structure)</p>
<div class="ulist">
<ul>
<li>
<p><strong><code>_nodeName_</code></strong> ('String' :: Simple name of the root node)</p>
</li>
<li>
<p><strong><code>_text_</code></strong> ('String' :: Concatenated text content (<code>PCDATA</code>) of the root node)</p>
</li>
<li>
<p><strong><code>TextNodes</code></strong> ('List&lt;String&gt;' :: List of all the root&#8217;s text node contents)</p>
</li>
<li>
<p><strong><code>_at_~EXAMPLEATTR1~</code></strong> ('String' :: String representation of the attribute&#8217;s value)</p>
</li>
<li>
<p><strong><code>_at_~EXAMPLEATTR2~</code></strong> ('String' :: String representation of the attribute&#8217;s value)</p>
</li>
<li>
<p><strong>_at_&#8230;&#8203;</strong></p>
</li>
<li>
<p><strong>Attributes</strong> ('List&lt;Map&lt;String, Object&gt;&gt;' :: List of the root&#8217;s attributes</p>
<div class="ulist">
<ul>
<li>
<p>at ('Map&lt;String, Object&gt;' :: List element)</p>
<div class="ulist">
<ul>
<li>
<p><code><strong>_attName_</strong> ('String' :: Name of the attribute)</code></p>
</li>
<li>
<p><code><strong>_attValue_</strong> ('String' :: String representation of the attribute&#8217;s value)</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Children</strong> ('List&lt;Map&lt;String, Object&gt;&gt;' :: List of the root&#8217;s child elements</p>
<div class="ulist">
<ul>
<li>
<p>child ('Map&lt;String, Object&gt;' :: List element)</p>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;common element sub structure&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>~EXAMPLENODE1~</code></strong> ('Map&lt;String, Object&gt;' :: One of the root&#8217;s child nodes)</p>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;common element structure&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>~EXAMPLENODE2~</code></strong> ('Map&lt;String, Object&gt;' :: One of the root&#8217;s child nodes)</p>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;common element sub structure&#8230;&#8203;</p>
</li>
<li>
<p><strong><code>~EXAMPLENODE21~</code></strong> ('Map&lt;String, Object&gt;' :: One of the nodes' child nodes)</p>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;common element structure&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>~EXAMPLENODE&#8230;&#8203;~</code></strong></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>~EXAMPLENODE&#8230;&#8203;~</code></strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In contrast to the java input reader, this XML input reader does currently not provide any additional template methods.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_cobigen.wiki_cobigen-xmlplugin.asciidoc_merger-extensions">Merger extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The XML plugin uses the <a href="#devonfw-guide/cobigen.wiki_https://github.com/maybeec/lexeme"><code>LeXeMe</code></a> merger library to produce semantically correct merge products. The merge strategies can be found in the <a href="devonfw-guide/cobigen.wiki_https://github.com/devonfw/cobigen/blob/master/cobigen/cobigen-xmlplugin/src/main/java/com/devonfw/cobigen/xmlplugin/merger/delegates/MergeType.java#L11"><code>MergeType enum</code></a> and can be configured in the <code>templates.xml</code> as a <code>mergeStrategy</code> attribute:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mergeStrategy xmlmerge</code></p>
<div class="listingblock">
<div class="title">Example of a template using the <code>mergeStrategy</code> <code>xmlmerge</code></div>
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;templates&gt;
	&lt;template name="..." destinationPath="..." templateFile="..." mergeStrategy="xmlmerge"/&gt;
&lt;/templates&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Currently only the document types included in LeXeMe are supported.
On how the merger works consult the <a href="#devonfw-guide/cobigen.wiki_https://github.com/maybeec/lexeme/wiki">LeXeMe Wiki</a>.</p>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack#">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-06-23 16:04:22 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      }
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>