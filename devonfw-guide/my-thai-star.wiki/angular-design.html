<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Angular design</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc">Angular design</a>
<ul class="sectlevel1">
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_introduction">Introduction</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_basic-project-structure">Basic project structure</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_main-views-and-components">Main Views and components</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_public-area">Public area</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_waiter-cockpit-area">Waiter cockpit area</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_email-management">Email Management</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_services-and-directives">Services and directives</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_price-calculator-service">Price-calculator-service</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_authentication">Authentication</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_snack-service">Snack Service</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_window-service">Window Service</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_equal-validator-directive">Equal-validator-directive</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_mock-back-end">Mock Back-end</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_booking">Booking</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_orders">Orders</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_dishes">Dishes</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_login">Login</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_security">Security</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_auth-guard">Auth-guard</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_jwt">JWT</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc" class="sect0">Angular design</h1>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>MyThaiStar</code> client side has been built using latest frameworks, component libraries and designs:</p>
</div>
<div class="paragraph">
<p><strong>Angular</strong> <em>4</em> as main front-end Framework. <a href="https://angular.io/" class="bare">https://angular.io/</a></p>
</div>
<div class="paragraph">
<p><strong>Angular/CLI</strong> <em>1.0.5</em> as Angular tool helper. <a href="https://github.com/angular/angular-cli" class="bare">https://github.com/angular/angular-cli</a></p>
</div>
<div class="paragraph">
<p><strong>Covalent Teradata</strong> <em>1.0.0-beta4</em> as Angular native component library based on Material Design. <a href="https://teradata.github.io/covalent/#/" class="bare">https://teradata.github.io/covalent/#/</a></p>
</div>
<div class="paragraph">
<p><strong>Angular/Material2</strong> <em>1.0.0-beta5</em> used by Covalent Teradata. <a href="https://github.com/angular/material2" class="bare">https://github.com/angular/material2</a></p>
</div>
<div class="paragraph">
<p><em>Note: this dependencies are evolving at this moment and if it is possible, we are updating it on the project.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_basic-project-structure">Basic project structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The project is using the basic project seed that Angular/CLI provides with “ng new &lt;project name&gt;”. Then the app folder has been organized as Angular recommends and goes as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>app</p>
<div class="ulist">
<ul>
<li>
<p>components</p>
<div class="ulist">
<ul>
<li>
<p>sub-components</p>
</li>
<li>
<p>shared</p>
</li>
<li>
<p>component files</p>
</li>
</ul>
</div>
</li>
<li>
<p>main app component</p>
</li>
</ul>
</div>
</li>
<li>
<p>assets folder</p>
</li>
<li>
<p>environments folder</p>
</li>
<li>
<p>rest of angular files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structure can be shown in the following example image:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/angular/folder_organization.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/angular/folder_organization.png" alt="folder organization"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_main-views-and-components">Main Views and components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>List of components that serve as a main view to navigate or components developed to make atomically a group of functionalities which given their nature, can be highly reusable through the app.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/angular/routes.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/angular/routes.png" alt="routes"></a>
</div>
</div>
<div class="paragraph">
<p><em>Note: no-name-route corresponds to whatever URL the user introduced and does not exist, it redirects to Home-Component.</em></p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_public-area">Public area</h3>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_app-component">App Component</h4>
<div class="paragraph">
<p>Contains the components that are on top of all views, including:</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_order-sidenav">Order sidenav</h5>
<div class="paragraph">
<p>Sidenav where selected orders are displayed with their total price and some comments.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_navigation-sidenav-only-for-mobile">Navigation sidenav (only for mobile)</h5>
<div class="paragraph">
<p>This sidenav proposal is to let user navigate through the app when the screen is too small to show the navigation buttons on the header.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_header">Header</h5>
<div class="paragraph">
<p>It contains the title, and some other basic functions regarding open and close sidenavs.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_footer-only-for-desktop">Footer (only for desktop)</h5>
<div class="paragraph">
<p>At the end of the page that shows only when open on desktop.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_home-component">Home-Component</h4>
<div class="paragraph">
<p>Main view that shows up when the app initializes.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_menu-component">Menu-Component</h4>
<div class="paragraph">
<p>View where the users can view, filter and select the dishes (with their extras) they want to order it contains a component to each menu entry:</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_menu-card">Menu-card</h5>
<div class="paragraph">
<p>This component composes all the data of a dish in a card. Component made to display indeterminate number of dishes easily.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_book-table-component">Book Table Component</h4>
<div class="paragraph">
<p>View to make book a table in a given data with a given number of assistants or create a reservation with a number of invitations via email.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_book-table-dialog">Book-table-dialog</h5>
<div class="paragraph">
<p>Dialog which opens as a result of fulfilling the booking form, it displays all the data of the booking attempt, if everything is correct, the user can send the information or cancel if something is wrong.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_invitation-dialog">Invitation-dialog</h5>
<div class="paragraph">
<p>Dialog which opens as a result of fulfilling the invitation form, it displays all the data of the booking with friends attempt, if everything is correct, the user can send the information or cancel if something is wrong.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_user-area">User Area</h4>
<div class="paragraph">
<p>Group of dialogs with the proposal of giving some functionalities to the user, as login, register, change password or connect with Twitter.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_login-dialog">Login-dialog</h5>
<div class="paragraph">
<p>Dialog with a tab to navigate between login and register.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_password-dialog">Password-dialog</h5>
<div class="paragraph">
<p>Functionality reserved to already logged users, in this dialog the user can change freely their password.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_twitter-dialog">Twitter-dialog</h5>
<div class="paragraph">
<p>Dialog designed specifically to connect your user account with Twitter.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_waiter-cockpit-area">Waiter cockpit area</h3>
<div class="paragraph">
<p>Restricted area to workers of the restaurant, here we can see all information about booked tables with the selected orders and the reservations with all the guests and their acceptance or decline of the event.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_order-cockpit-component">Order Cockpit Component</h4>
<div class="paragraph">
<p>Data table with all the booked tables and a filter to search them, to show more info about that table you can click on it and open a dialog.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_order-dialog">Order-dialog</h5>
<div class="paragraph">
<p>Complete display of data regarding the selected table and its orders.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_reservation-cockpit-component">Reservation Cockpit Component</h4>
<div class="paragraph">
<p>Data table with all the reservations and a filter to search them, to show more info about that table you can click on it and open a dialog.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_reservation-dialog">Reservation-dialog</h5>
<div class="paragraph">
<p>Complete display of data regarding the selected table and its guests.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_email-management">Email Management</h3>
<div class="paragraph">
<p>As the application send emails to both guests and hosts, we choose an approach based on URL where the email contain a button with an URL to a service in the app and a token, front-end read that token and depending on the URL, will redirect to one service or another. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>`http://localhost:4200/booking/cancel/CB_20170605_8fb5bc4c84a1c5049da1f6beb1968afc`</code></pre>
</div>
</div>
<div class="paragraph">
<p>This URL will tell the app that is a cancellation of a booking with the token <code><em>CB_20170605_8fb5bc4c84a1c5049da1f6beb1968afc</em></code>. The app will process this information, send it to back-end with the correct headers, show the confirmation of the event and redirect to home page.</p>
</div>
<div class="paragraph">
<p>The main cases at the moment are:</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_accept-invite">Accept Invite</h4>
<div class="paragraph">
<p>A guest accept an invitation sent by a host. It will receive another email to decline if it change its mind later on.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_reject-invite">Reject Invite</h4>
<div class="paragraph">
<p>A guest decline the invitation.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_cancel-reservation">Cancel Reservation</h4>
<div class="paragraph">
<p>A host cancel the reservation, everybody that has accepted or not already answered will receive an email notifying this event is canceled. Also all the orders related to this reservations will be removed.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_cancel-orders">Cancel Orders</h4>
<div class="paragraph">
<p>When you have a reservation, you will be assigned to a token, with that token you can save your order in the restaurant. When sent, you will receive an email confirming the order and the possibility to remove it.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_services-and-directives">Services and directives</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Services are where all the main logic between components of that view should be. This includes calling a remote server, composing objects, calculate prices, etc.</p>
</div>
<div class="paragraph">
<p>Directives are a single functionality that are related to a component.</p>
</div>
<div class="paragraph">
<p>As it can be seen in the basic structure, every view that has a minimum of logic or need to call a server has its own service located in the shared folder.</p>
</div>
<div class="paragraph">
<p>Also, services and directives can be created to compose a reusable piece of code that will be reused in some parts of the code:</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_price-calculator-service">Price-calculator-service</h3>
<div class="paragraph">
<p>This service located in the shared folder of sidenav contains the basic logic to calculate the price of a single order (with all the possibilities) and to calculate the price of a full list of orders for a table. As this is used in the sidenav and in the waiter cockpit, it has been exported as a service to be imported where needed and easily testable.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_authentication">Authentication</h3>
<div class="paragraph">
<p>Authentication services serves as a validator of roles and login and, at the same time, stores the basic data regarding security and authentication.</p>
</div>
<div class="paragraph">
<p>Main task of this services is to provide visibility at app level of the current user information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Check if the user is logged or not.</p>
</li>
<li>
<p>Check the permissions of the current user.</p>
</li>
<li>
<p>Store the username and the JWT token.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_snack-service">Snack Service</h3>
<div class="paragraph">
<p>Service created to serve as a factory of Angular Material <code>Snackbars</code>, which are used commonly through the app. This service accepts some parameters to customize the <code>snackBar</code> and opens it with this parameters.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_window-service">Window Service</h3>
<div class="paragraph">
<p>For responsiveness reasons, the dialogs have to accept a width parameter to adjust to screen width and this information is given by Window object, as it is a good practice to have it in an isolated service, which also calculates the width percentage to apply on the dialogs.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_equal-validator-directive">Equal-validator-directive</h3>
<div class="paragraph">
<p>This directive located in the shared folder of <code>userArea</code> is used in 2 fields to make sure they have the same value. This directive is used in confirm password fields in register and change password.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_mock-back-end">Mock Back-end</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To develop meanwhile a real back-end is being developed let us to make a more realistic application and to make easier the adaptation when the back-end is able to be connected and called. Its structure is as following:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/angular/back-end.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/angular/back-end.png" alt="back end"></a>
</div>
</div>
<div class="paragraph">
<p>Contains the three main groups of functionalities in the application. Every group is composed by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An <strong>interface</strong> with all the methods to implement.</p>
</li>
<li>
<p>A <strong>service</strong> that implements that interface, the main task of this service is to choose between real back-end and mock back-end depending on an environment variable.</p>
</li>
<li>
<p><strong>Mock back-end service</strong> which implements all the methods declared in the interface using mock data stored in a local file and mainly uses Lodash to operate the arrays.</p>
</li>
<li>
<p><strong>Real back-end service</strong> works as Mock back-end but in this case the methods call for server rest services through Http.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_booking">Booking</h3>
<div class="paragraph">
<p>The booking group of functionalities manages the calls to reserve a table with a given time and assistants or with guests, get reservations filtered, accept or decline invitations or cancel the reservation.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_orders">Orders</h3>
<div class="paragraph">
<p>Management of the orders, including saving, filtering and cancel an order.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_dishes">Dishes</h3>
<div class="paragraph">
<p>The dishes group of functionalities manages the calls to get and filter dishes.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_login">Login</h3>
<div class="paragraph">
<p>Login manages the <code>userArea</code> logic: login, register and change password.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_security">Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>My Thai Star security is composed by two main security services:</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_auth-guard">Auth-guard</h3>
<div class="paragraph">
<p>Front-end security approach, this service implements an interface called <code>CanActivate</code> that comes from angular/router module. <code>CanActivate</code> interface forces you to implement a <code>canActivate()</code> function which returns a Boolean.
This service checks with the Auth-Service stored data if the user is logged and if he has enough permission to access the waiter cockpit. This prevents that a forbidden user could access to waiter cockpit just by editing the URL in the browser.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_jwt">JWT</h3>
<div class="paragraph">
<p>JSON Web Token consists of a token that is generated by the server when the user logs in. Once provided, the token has to be included in an Authentication header on every Http call to the rest service, otherwise the call will be forbidden.
JWT also has an expiration date and a role checking, so if a user has not enough permissions or keeps logged for a long certain amount of time that exceeds this expiration date, the next time he calls for a service call, the server will return an error and forbid the call. You can log again to restore the token.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_my-thai-star.wiki_angular-design.asciidoc_httpclient">HttpClient</h4>
<div class="paragraph">
<p>To implement this Authorization header management, an HttpClient service has been implemented.
This services works as an envelope of Http, providing some more functionalities, likes a header management and an automatically management of a server token error in case the JWT has expired, corrupted or not permitted.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-07-21 08:31:37 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      }
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>