<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Architecture</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc" class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="https://devonfw.com/"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div id="preamble">
<div class="sectionbody">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_what-is-code-quality">What is code quality?</a></li>
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_what-is-architecture-quality">What is architecture quality?</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_onion-architecture">Onion Architecture</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_domain-layer">Domain Layer</a></li>
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_data-layer">Data Layer</a></li>
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_business-layer">Business Layer</a></li>
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_application-layer">Application Layer</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_references">References</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://devonfw.com/website/pages/welcome/welcome.html">devonfw</a> platform provides a solution to building applications which combine best-in-class frameworks and libraries as well as industry proven practices and code conventions. It massively speeds up development, reduces risks and helps you to deliver better results. When it comes to achieving these objectives, having a very clear and well-defined architecture is critical.</p>
</div>
<div class="paragraph">
<p>This guide will teach you the fundamentals of the suggested architecture, which is based on layers in order to develop the best possible quality software, applying design patterns, coding principles and the best practices known in the industry.</p>
</div>
<div class="paragraph">
<p>Before getting started, it&#8217;s helpful to understand a few key ideas that will come in handy.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_what-is-code-quality">What is code quality?</h3>
<div class="paragraph">
<p>Quality is a subjective concept; one person may regard something as high quality while another does not. So, how can we tell whether a piece of code is of good quaility or not?
Different teams may use different definitions, based on context, but there are five common standard metrics used to measure it:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Reliability:</strong> Measures the probability of a system running without failure over a specific period of time. It relates to the number of defects and availability of the software.</p>
</li>
<li>
<p><strong>Maintainability:</strong> Measures how easily software can be maintained. It relates to the size, consistency, structure, and complexity of the codebase.</p>
</li>
<li>
<p><strong>Testability:</strong> Measures how well the software supports testing efforts. It relies on how well you can control, observe, isolate, and automate testing, among other factors.</p>
</li>
<li>
<p><strong>Portability:</strong> Measures how usable the same software is in different environments.</p>
</li>
<li>
<p><strong>Reusability:</strong> Measures whether existing assets, such as code, can be used again. Assets are more easily reused if they have characteristics such as modularity or loose coupling.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_what-is-architecture-quality">What is architecture quality?</h3>
<div class="paragraph">
<p>Using a well-defined architecture is essential to ensure quality development of long-lived business applications as well as applications with complex behavior.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Scalability:</strong> Software scalability is the ability to grow or shrink a piece of software to meet changing demands on a business.</p>
</li>
<li>
<p><strong>Loose coupling:</strong> Loose coupling is an approach to interconnecting the components in a system or network so that they are weakly associated and easily replaceable.</p>
</li>
<li>
<p><strong>Developer friendly:</strong> A clean, structured and well-documented architecture makes reading and understanding the code much easier to developers.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_onion-architecture">Onion Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As the name suggests, the proposed architecture makes use of cooperating components called layers, just like an onion.</p>
</div>
<div class="quoteblock">
<blockquote>
It is important to understand the difference between layers and tiers. Layers describe the logical groupings of the functionality and components in an application; whereas tiers describe the physical distribution of the functionality and components on separate servers, computers, networks, or remote locations. Although both layers and tiers use the same set of names (presentation, business, services, and data), remember that only tiers imply a physical separation. It is quite common to locate more than one layer on the same physical machine (the same tier). You can think of the term tier as referring to physical distribution patterns such as two-tier, three-tier, and n-tier.
</blockquote>
<div class="attribution">
<cite>MSDN Microsoft</cite><br>
&#8212; Layered Application Guidelines
</div>
</div>
<div class="paragraph">
<p>The main objective is to control the coupling in such way that the high-level modules do not rely on low level ones, but rather on abstractions of them. Components in a loosely coupled system can be replaced with alternative implementations that provide the same services.</p>
</div>
<div class="paragraph">
<p>This principle is called <a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle">Dependency Injection</a>. To implement it, we will also be using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-6.0">Dependency Injection</a> pattern available in .NET Core.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_domain-layer">Domain Layer</h3>
<div class="paragraph">
<p>This type of architecture also follows Domain-Driven-Design (DDD) principles, so we can find the Domain Model in the very center. It represents the state and behavior combination that models truth for the organization.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/onion_architecture_domain.png" alt="onion architecture domain">
</div>
<div class="title">Figure 1. Domain Layer diagram</div>
</div>
<div class="paragraph">
<p>As shown in the diagram, the entities and the database context that provides access to an external database are placed in the core of the application. Repository contracts (interfaces) that provide object saving and retrieving behavior can also be found in this layer.</p>
</div>
<div class="paragraph">
<p>The Domain Model is only coupled to itself, so it doesn&#8217;t have any dependency on other application layers.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_data-layer">Data Layer</h3>
<div class="paragraph">
<p>The first layer around the Domain Model is typically the one that orchestrates the data obtained from the database, betweeen the Domain Layer and the Business Layer.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/onion_architecture_data.png" alt="onion architecture data">
</div>
<div class="title">Figure 2. Data Layer diagram</div>
</div>
<div class="paragraph">
<p>To provide an abstraction of the data access methods, the Repository Pattern is being used. In this layer the implementations of the repository interfaces are found. As well as any other necesary implementation such as the Unit of Work.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_business-layer">Business Layer</h3>
<div class="paragraph">
<p>The business layer holds all the application logic and core functionality. It may implement each required API controller as well as the services that go along with them.</p>
</div>
<div class="paragraph">
<p>Sometimes services or interfaces defined at this layer will need to work with non-entity types. These objects are known as data transfer objects (DTOs) and they are used to decouple the logic from the domain. This enables the data to be optimized and made available to a variety of data users. Thanks to a series of converters, the data can be optimized and be ready for different consumers.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/onion_architecture_business.png" alt="onion architecture business">
</div>
<div class="title">Figure 3. Business Layer diagram</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_application-layer">Application Layer</h3>
<div class="paragraph">
<p>The outer layer of our onion encapsulates the different front-end clients and its resource dependencies. Following also Test-Driven-Development (TDD) principles we will find the Tests.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/onion_architecture_application.png" alt="onion architecture application">
</div>
<div class="title">Figure 4. Application Layer diagram</div>
</div>
<div class="paragraph">
<p>As shown in the diagram, this layer may use many external components such as data sources, identity providers and other services.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_devon4net.wiki_architecture_guide.asciidoc_references">References</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are some interesting references to continue learning about this topic:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/common-web-application-architectures">Common web Application Architectures - Microsoft Docs</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/architectural-principles">Architectural Principles - Microsoft Docs</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-6.0">Dependency injection in ASP.NET Core - Microsoft Docs</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/es-es/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design">Design the infrastructure persistence layer - Microsoft Docs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-11-22 09:52:55 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      
      const parseCookie = str =>
        str
        .split(';')
        .map(v => v.split('='))
        .reduce((acc, v) => {
          acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
          return acc;
        }, {});
      
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      } else {
        cookies = parseCookie(document.cookie);
        if (cookies["cookie_consent"] == "accept") {
          consentGranted();
        }
      }
      
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>