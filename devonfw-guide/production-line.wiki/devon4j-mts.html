<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>devon4j My-Thai-Star Sample Application Template for Production Line</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="https://devonfw.com/"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc">devon4j My-Thai-Star Sample Application Template for Production Line</a>
<ul class="sectlevel1">
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_introduction">Introduction</a></li>
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_overview">Overview</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_jenkins-jobs">Jenkins Jobs</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_how-to-report-issues">How to report Issues</a></li>
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_how-to-contribute">How to contribute</a></li>
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_prerequisities-before-running-the-template">Prerequisities before running the template</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_production-line-components">Production Line Components</a></li>
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_technical-user-setup">Technical User Setup</a></li>
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_builddeployment-requirements">Build/Deployment Requirements</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_how-to-run-it">How to run it</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_setup-template-job-in-jenkins">Setup template job in Jenkins</a></li>
<li><a href="#devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_execute-the-jenkins-job-in-your-jenkins">Execute the Jenkins job in your Jenkins</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc" class="sect0">devon4j My-Thai-Star Sample Application Template for Production Line</h1>
<div class="sect1">
<h2 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please read all of the following sections carefully.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This template will configure your PL instance to have a 'ready to use' My-Thai-Star devonfw application. It is only an example. In order to start a new project, please use the other templates. This includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cloning the official <code>My-Thai-Star</code> (<a href="https://github.com/devonfw/my-thai-star" class="bare">https://github.com/devonfw/my-thai-star</a>) repository into your GitLab, which allows you to do customizations on your own.</p>
</li>
<li>
<p>Adding a build job for the Angular front-end, including a SonarQube analysis and a delivery to Nexus as zip and docker image.</p>
</li>
<li>
<p>Adding a build job for the Java back-end, including a SonarQube analysis and a deployment to Nexus as zip and docker image.</p>
</li>
<li>
<p>Adding a deployment job for the Angular front-end</p>
</li>
<li>
<p>Adding a deployment job for the Java back-end</p>
</li>
<li>
<p>Adding a deployment job for the reverse proxy. Please see <a href="devonfw-guide/production-line.wiki_https://devonfw.com/website/pages/docs/master-my-thai-star_cicd.html#deployment">My Thai Star deployment documentation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Especially the build and deployment jobs require several additional Jenkins plugins, which are not part of the PL by default. The Template will also take care of those installations.</p>
</div>
<div class="paragraph">
<p>All build and deployment jobs are taken from the official <code>My-Thai-Star</code> (<a href="https://github.com/devonfw/my-thai-star" class="bare">https://github.com/devonfw/my-thai-star</a>) repository. The created build and deployment jobs inside Jenkins will use the Jenkinsfiles from the cloned repo in Gitlab. These are currently the following Jenkinsfiles:</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_jenkins-jobs">Jenkins Jobs</h3>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<caption class="title">Table 1. Jenkins Jobs</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Jenkins job name</th>
<th class="tableblock halign-left valign-top">Path to Jenkinsfile in repo</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyThaiStar_REVERSE-PROXY_DEPLOY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jenkins/deployment/Jenkinsfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reverse proxy deployment job. Downloads the docker images from Nexus3 and starts a new container using that image. With this job you can also build the reverse proxy image.</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyThaiStar_FRONTEND_BUILD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jenkins/angular/cicd/Jenkinsfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds and tests the Angular frontend. Pushes artifacts to Nexus.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyThaiStar_SERVER_BUILD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jenkins/java/cicd/Jenkinsfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds and tests the Java backend. Pushes artifacts to Nexus.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyThaiStar_FRONTEND_DEPLOY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jenkins/angular/deployment/Jenkinsfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Frontend deployment job. Downloads the docker images from Nexus3 and starts a new container using that image.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyThaiStar_SERVER_DEPLOY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jenkins/java/deployment/Jenkinsfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Backend deployment job. Downloads the docker images from Nexus3 and starts a new container using that image.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_how-to-report-issues">How to report Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This template is independent from PL and devonfw releases and is also not really connected to one of the projects. Therefore issues that occur during the template setup or execution should be tracked in the issue section of this GitHub project.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_how-to-contribute">How to contribute</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In case you see improvements we would love to see a Pull Request.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_prerequisities-before-running-the-template">Prerequisities before running the template</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_production-line-components">Production Line Components</h3>
<div class="paragraph">
<p><strong>To use the template you need to make sure that your PL has the following components installed:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jenkins (required to run the template and to execute the build/deployment Jobs)</p>
</li>
<li>
<p>SonarQube (required for a static code analysis)</p>
</li>
<li>
<p>GitLab (required as a repository)</p>
</li>
<li>
<p>Nexus3 (required to store the build artifacts)</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="icon-tip" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Additional components can be ordered from the ProductionLine service team.</strong></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_technical-user-setup">Technical User Setup</h3>
<div class="paragraph">
<p>In order to configure the services, we need technical users for the following components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Gitlab</p>
</li>
<li>
<p>Nexus3</p>
</li>
<li>
<p>SonarQube</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The following sections describe how to configure the components to enable technical users and tokens.</strong></p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_manual-configuration">Manual configuration</h4>
<div class="paragraph">
<p>In order to configure the Production Line components manually you can follow <a href="#devonfw-guide_production-line.wiki_initialize-instance-manually.asciidoc">this guide</a></p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_automatic-configuration">Automatic configuration</h4>
<div class="paragraph">
<p>In order to configure the Production Line components automatically you can follow <a href="#devonfw-guide_production-line.wiki_initialize-instance.asciidoc">this guide</a></p>
</div>
<div class="paragraph">
<p>There is one thing that <code>initialize-template</code> can not do automatically: the gitlab token creation.</p>
</div>
<div class="paragraph">
<p>The creation of the GitLab Group and Project will require a private GitLab token which has to be created manually. The token can be obtained like this:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to your Profile in Gitlab</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/devon4j-mts/profile.png" alt="500" width="400">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Next click on the pen icon</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/devon4j-mts/pen.png" alt="500" width="400">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the left menu choose Access Tokens and put token name and check fields like below<br></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/devon4j-mts/token.JPG" alt="600" width="500">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click "Create personal access token", you should receive notification about created token and token string. Copy the token string.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/devon4j-mts/created_token.JPG" alt="600" width="500">
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>The GitLab API user needs to have API access and the rights to create a new group. To set this permission follow the next steps:</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enter the Admin control panel</p>
</li>
<li>
<p>Select 'Users'</p>
</li>
<li>
<p>Select the user(s) in question and click 'Edit'</p>
</li>
<li>
<p>Scroll down to 'Access' and un-tick 'Can Create Group'</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_builddeployment-requirements">Build/Deployment Requirements</h3>
<div class="paragraph">
<p>The My Thai Star CICD pipelines will create a docker image and then the deployment pipelines will use it in order to deploy the application. As Production Line do not include a docker daemon, you need an additional server to do it. Those server needs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Docker-CE has to be installed</p>
</li>
<li>
<p><a href="#devonfw-guide/production-line.wiki_https://success.docker.com/article/how-do-i-enable-the-remote-api-for-dockerd">Docker daemon exposed</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_how-to-run-it">How to run it</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>If Jenkins needs to install plugins, a restart will be performed.
So please make sure, that nothing important is running.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>We have job-parameters inside the template Jenkinsfile that will only be active if Jenkins has run the job at least once!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_setup-template-job-in-jenkins">Setup template job in Jenkins</h3>
<div class="paragraph">
<p>The guide on how to add a template to your Jenkins can be found in the root directory of the template repository: <a href="https://github.com/devonfw/production-line.git" class="bare">https://github.com/devonfw/production-line.git</a></p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_execute-the-jenkins-job-in-your-jenkins">Execute the Jenkins job in your Jenkins</h3>
<div class="ulist">
<ul>
<li>
<p>Go to the Jenkins job.</p>
</li>
<li>
<p>Execute job.</p>
</li>
<li>
<p>It will try to configure and setup the PL components such as Jenkins/Gitlab and Nexus.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a restart was needed, you need to trigger the job again!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>The job should now show the required parameters, you only need to change the GITLAB PRIVATE TOKEN that you should have generated in the prerequisite section</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/devon4j-mts/job.PNG" alt="600" width="500">
</div>
</div>
<div class="paragraph">
<p>When everything is "green" the template is done and you can have a look in the created "MTS" folder in Jenkins.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>It will take a few minutes to clone the official MTS repository to the internal Gitlab. So you need to wait before executing the build jobs at the first time.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_build-jobs">Build Jobs</h4>
<div class="paragraph">
<p>You can now execute the build for the frontend and also the backend. They do not require any parameters to run. The expected result is, that both jobs can run without any errors. They will build, test and deploy the artifacts to Nexus3.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_production-line.wiki_devon4j-mts.asciidoc_deployment-jobs">Deployment Jobs</h4>
<div class="paragraph">
<p>All deployment jobs have several parameters configured in their Jenkinsfile. Unfortunately, Jenkins does not pick them up immediately, <strong>so you need to execute the job once, by pressing the "Build now" button.</strong>
The run should fail quite fast and once you refresh the page, the "Build now" button should have changed to "Build with Parameters". If you now click on the button you should see the parameters below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/devon4j-mts/JenkinsDeployParameters.png" alt="Jenkins Deployment Parameters">
</div>
</div>
<div class="paragraph">
<p>You need to set the following parameters in order to get it running:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<caption class="title">Table 2. Required Parameters</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dockerNetwork</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The docker network where the container will be deployed.</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">registryUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The docker registry URL where image is stored.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">registryCredentialsId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The nexus credentials to access to the docker registry.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VERSION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The version of the image that was built in the build jobs. For example "1.12.3-SNAPSHOT".</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Also, the reverse proxy deployment has two more parameters:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<caption class="title">Table 3. Reverse Proxy extra parameters</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The port where the application will be listening. It&#8217;s a host port, not a container port.</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buildReverseProxy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, it will build a new reverse proxy docker image and then deploy that image.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can deploy multiple versions of My Thai Star in the same machine by changing the docker network in all deployments and the port in the reverse proxy deployment.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>You must choose the same docker network for all deployments</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>You need to deploy the angular and java applications before the reverse proxy. Also, the first you need to check the <code>buildReverseProxy</code> parameter in order to create the reverse proxy image and then deploy the container.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2023-10-06 16:32:15 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      
      const parseCookie = str =>
        str
        .split(';')
        .map(v => v.split('='))
        .reduce((acc, v) => {
          acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
          return acc;
        }, {});
      
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      } else {
        cookies = parseCookie(document.cookie);
        if (cookies["cookie_consent"] == "accept") {
          consentGranted();
        }
      }
      
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>