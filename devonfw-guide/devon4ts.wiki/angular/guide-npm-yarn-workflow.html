<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Package Managers Workflow</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="https://devonfw.com/"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc">Package Managers Workflow</a>
<ul class="sectlevel1">
<li><a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_package.json">Package.json</a></li>
<li><a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_managing-dependencies">Managing dependencies</a></li>
<li><a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_problems-you-may-encounter">Problems you may encounter</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc" class="sect0">Package Managers Workflow</h1>
<div class="sect1">
<h2 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document aims to provide you the necessary documentation and sources in order to help you understand the importance of dependencies between packages.</p>
</div>
<div class="paragraph">
<p>Projects in NodeJS make use of modules, chunks of reusable code made by other people or teams. These small chunks of reusable code are called packages <span class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</span>. Packages are used to solve specific problems or tasks. These relations between your project and the external packages are called dependencies.</p>
</div>
<div class="paragraph">
<p>For example, imagine we are doing a small program that takes your birthday as an input and tells you how many days are left until your birthday. We search in the repository if someone has published a package to retrieve the actual date and manage date types, and maybe we could search for another package to show a calendar, because we want to optimize our time, and we wish the user to click a calendar button and choose the day in the calendar instead of typing it.</p>
</div>
<div class="paragraph">
<p>As you can see, packages are convenient. In some cases, they may be even needed, as they can manage aspects of your program you may not be proficient in, or provide an easier use of them.</p>
</div>
<div class="paragraph">
<p>For more comprehensive information visit <a href="https://docs.npmjs.com/getting-started/what-is-npm">npm definition</a></p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_package.json">Package.json</h3>
<div class="paragraph">
<p>Dependencies in your project are stored in a file called package.json. Every package.json must contain, at least, the name and version of your project.</p>
</div>
<div class="paragraph">
<p>Package.json is located in the root of your project.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
If package.json is not on your root directory refer to <a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_problems-you-may-encounter">Problems you may encounter</a> section
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you wish to learn more information about package.json, click on the following links:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://yarnpkg.com/en/docs/package-json">Yarn Package.json</a></p>
</li>
<li>
<p><a href="https://docs.npmjs.com/getting-started/using-a-package.json">npm Package.json</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_content-of-package.json">Content of package.json</h4>
<div class="paragraph">
<p>As you noticed, package.json is a really important file in your project. It contains essential information about our project, therefore you need to understand what&#8217;s inside.</p>
</div>
<div class="paragraph">
<p>The structure of package.json is divided in blocks, inside the first one you can find essential information of your project such as the name, version, license and optionally some <a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_scripts">Scripts</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">{
  "name": "exampleproject",
  "version": "0.0.0",
  "license": "MIT",
  "scripts": {
    "ng": "ng",
    "start": "ng serve",
    "build": "ng build",
    "test": "ng test",
    "lint": "ng lint",
    "e2e": "ng e2e"
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The next block is called <em>dependencies</em> and contains the packages that project needs in order to be developed, compiled and executed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"private": true,
  "dependencies": {
    "@angular/animations": "^4.2.4",
    "@angular/common": "^4.2.4",
    "@angular/forms": "^4.2.4",
    ...
    "zone.js": "^0.8.14"
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>After <em>dependencies</em> we find <code><strong><em>devDependencies</em></strong></code>, another kind of dependencies present in the development of the application but unnecessary for its execution. One example is typescript. Code is written in typescript, and then, <em>transpiled</em> to JavaScript. This means the application is not using typescript in execution and consequently not included in the deployment of our application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"devDependencies": {
    "@angular/cli": "1.4.9",
    "@angular/compiler-cli": "^4.2.4",
    ...
    "@types/node": "~6.0.60",
    "typescript": "~2.3.3"
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Having a peer dependency means that your package needs a dependency that is the same exact dependency as the person installing your package</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"peerDependencies": {
    "package-123": "^2.7.18"
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Optional dependencies are just that: optional. If they fail to install, Yarn will still say the install process was successful.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"optionalDependencies": {
    "package-321": "^2.7.18"
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally you can have bundled dependencies which are packages bundled together when publishing your package in a repository.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">{
  "bundledDependencies": [
    "package-4"
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is the link to an in-depth explanation of <a href="https://yarnpkg.com/en/docs/dependency-types">dependency types</a>&#8203;.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_scripts">Scripts</h4>
<div class="paragraph">
<p>Scripts are a great way of automating tasks related to your package, such as simple build processes or development tools.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">{
  "name": "exampleproject",
  "version": "0.0.0",
  "license": "MIT",
  "scripts": {
    "build-project": "node hello-world.js",
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can run that script by running the command <code>yarn (run) script</code> or <code>npm run script</code>, check the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ yarn (run) build-project    # run is optional
$ npm run build-project</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are special reserved words for scripts, like pre-install, which will execute the script automatically
before the package you install are installed.</p>
</div>
<div class="paragraph">
<p>Check different uses for scripts in the following links:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://yarnpkg.com/en/docs/package-json#toc-scripts">Yarn scripts documentation</a></p>
</li>
<li>
<p><a href="https://docs.npmjs.com/misc/scripts">npm scripts documentation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Or you can go back to
<a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_content-of-package.json">Content of package.json</a>&#8203;.<br></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_managing-dependencies">Managing dependencies</h3>
<div class="paragraph">
<p>In order to manage dependencies we recommend using package managers in your projects.</p>
</div>
<div class="paragraph">
<p>A big reason is their usability. Adding or removing a package is really easy, and by doing so, packet manager update the package.json and copies (or removes) the package in the needed location, with a single command.</p>
</div>
<div class="paragraph">
<p>Another reason, closely related to the first one, is reducing human error by automating the package management process.</p>
</div>
<div class="paragraph">
<p>Two of the package managers you can use in NodeJS projects are "yarn" and "npm". While you can use both, we encourage you to use only one of them while working on projects. Using both may lead to different dependencies between members of the team.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_npm">npm</h4>
<div class="paragraph">
<p>We&#8217;ll start by installing npm following this small guide <a href="https://docs.npmjs.com/getting-started/installing-node">here</a>.</p>
</div>
<div class="paragraph">
<p>As stated on the web, npm comes inside of NodeJS, and must be updated after installing NodeJS, in the same guide you used earlier are written the instructions to update npm.</p>
</div>
<div class="paragraph">
<p><strong>How npm works</strong></p>
</div>
<div class="paragraph">
<p>In order to explain how npm works, let&#8217;s take a command as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ npm install @angular/material @angular/cdk</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command tells npm to look for the packages <code>@angular/material</code> and <code>@angular/cdk</code> in the npm registry, download and decompress them in the folder node_modules along with their own dependencies. Additionally, npm will update package.json and create a new file called package-lock.json.</p>
</div>
<div class="paragraph">
<p>After initialization and installing the first package there will be a new folder called node_modules in your project. This folder is where your packages are unzipped and stored, following a tree scheme.</p>
</div>
<div class="paragraph">
<p>Take in consideration both npm and yarn need a package.json in the root of your project in order to work properly. If after creating your project don&#8217;t have it, download again the package.json from the repository or you&#8217;ll have to start again.</p>
</div>
<div class="paragraph">
<p><strong>Brief overview of commands</strong></p>
</div>
<div class="paragraph">
<p>If we need to create a package.json from scratch, we can use the command <strong>init</strong>. This command asks the user for basic information about the project and creates a brand new package.json.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ npm init</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install (or i) installs all modules listed as dependencies in package.json <strong>locally</strong>. You can also specify a package, and install that package. Install can also be used with the parameter <code>-g</code>, which tells npm to install the <a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_global-package">Global package</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ npm install
$ npm i
$ npm install Package</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
Earlier versions of npm did <strong>not</strong> add dependencies to package.json unless it was used with the flag <code>--save</code>, so npm install package would be npm install <code>--save</code> package, you have one example below.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ npm install --save Package</code></pre>
</div>
</div>
<div class="paragraph">
<p>Npm needs flags in order to know what kind of dependency you want in your project, in npm you need to put the flag <code>-D</code> or <code>--save-dev</code> to install <code>devDependencies</code>, for more information consult the links at the end of this section.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ npm install -D package
$ npm install --save-dev package</code></pre>
</div>
</div>
<div class="paragraph">
<p>&#8203;</p>
</div>
<div class="paragraph">
<p>The next command uninstalls the module you specified in the command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ npm uninstall Package</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ls</code> command shows us the dependencies like a nested tree, useful if you have few packages, not so useful when you need a lot of packages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ npm ls</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>npm@@VERSION@ /path/to/npm
└─┬ init-package-json@0.0.4
  └── promzard@0.1.5</pre>
</div>
</div>
<div class="paragraph">
<div class="title">example tree</div>
<p>We recommend you to learn more about npm commands in the following <a href="https://docs.npmjs.com/">link</a>, navigating to the section CLI commands.</p>
</div>
<div class="paragraph">
<p><strong>About Package-lock.json</strong></p>
</div>
<div class="paragraph">
<p>Package-lock.json describes the dependency tree resulting of using package.json and npm.
Whenever you update, add or remove a package, package-lock.json is deleted and redone with
the new dependencies.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json"> "@angular/animations": {
      "version": "4.4.6",
      "resolved": "https://registry.npmjs.org/@angular/animations/-/animations-4.4.6.tgz",
      "integrity": "sha1-+mYYmaik44y3xYPHpcl85l1ZKjU=",
      "requires": {
        "tslib": "1.8.0"
      }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This lock file is checked every time the command npm i (or npm install) is used without specifying a package,
in the case it exists and it&#8217;s valid, npm will install the exact tree that was generated, such that subsequent
installs are able to generate identical dependency trees.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
It is <strong>not</strong> recommended to modify this file yourself. It&#8217;s better to leave its management to npm.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More information is provided by the npm team at <a href="https://docs.npmjs.com/files/package-lock.json">package-lock.json</a></p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_yarn">Yarn</h4>
<div class="paragraph">
<p>Yarn is an alternative to npm, if you wish to install yarn follow the guide <a href="https://yarnpkg.com/en/docs/install">getting started with yarn</a> and download the correct version for your operative system. NodeJS is also needed you can find it <a href="https://nodejs.org/en/">here</a>.</p>
</div>
<div class="paragraph">
<p><strong>Working with yarn</strong></p>
</div>
<div class="paragraph">
<p>Yarn is used like npm, with small differences in syntax, for example <em>npm install module</em> is changed to <em>yarn add module</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ yarn add @covalent</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command is going to download the required packages, modify package.json, put the package in the folder node_modules and makes a new yarn.lock with the new dependency.</p>
</div>
<div class="paragraph">
<p>However, unlike npm, yarn maintains a cache with packages you download inside. You don&#8217;t need to download every file every time you do a general installation. This means installations faster than npm.</p>
</div>
<div class="paragraph">
<p>Similarly to npm, yarn creates and maintains his own lock file, called yarn.lock. Yarn.lock gives enough information about the project for dependency tree to be reproduced.</p>
</div>
<div class="paragraph">
<p><strong>yarn commands</strong></p>
</div>
<div class="paragraph">
<p>Here we have a brief description of yarn&#8217;s most used commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ yarn add Package
$ yarn add --dev Package</code></pre>
</div>
</div>
<div class="paragraph">
<p>Adds a package <strong>locally</strong> to use in your package. Adding the flags <code>--dev</code> or <code>-D</code> will add them to <code>devDependencies</code> instead of the default dependencies, if you need more information check the links at the end of the section.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ yarn init</code></pre>
</div>
</div>
<div class="paragraph">
<p>Initializes the development of a package.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ yarn install</code></pre>
</div>
</div>
<div class="paragraph">
<p>Installs all the dependencies defined in a package.json file, you can also write "yarn" to achieve the same effect.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ yarn remove Package</code></pre>
</div>
</div>
<div class="paragraph">
<p>You use it when you wish to remove a package from your project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="bash language-bash">$ yarn global add Package</code></pre>
</div>
</div>
<div class="paragraph">
<p>Installs the <a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_global-package">Global package</a>.</p>
</div>
<div class="paragraph">
<p>Please, refer to the documentation to learn more about yarn commands and their attributes: <a href="https://yarnpkg.com/en/docs/cli/">yarn commands</a></p>
</div>
<div class="paragraph">
<p><strong>yarn.lock</strong></p>
</div>
<div class="paragraph">
<p>This file has the same purpose as Package-lock.json, to guide the packet manager, in this case yarn,
to install the dependency tree specified in yarn.lock.</p>
</div>
<div class="paragraph">
<p>Yarn.lock and package.json are
essential files when collaborating in a project more co-workers and may be a
source of errors if programmers do not use the same manager.</p>
</div>
<div class="paragraph">
<p>Yarn.lock follows the same structure as package-lock.json, you can find an example of dependency below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"@angular/animations@^4.2.4":
  version "4.4.6"
  resolved "https://registry.yarnpkg.com/@angular/animations/-/animations-4.4.6.tgz#fa661899a8a4e38cb7c583c7a5c97ce65d592a35"
  dependencies:
    tslib "^1.7.1"</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
As with package-lock.json, it&#8217;s strongly <strong>not</strong> advised to modify this file. Leave its management to yarn
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can learn more about yarn.lock here: <a href="https://yarnpkg.com/en/docs/yarn-lock">yarn.lock</a></p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_global-package">Global package</h4>
<div class="paragraph">
<p>Global packages are packages installed in your operative system instead of your local project,
global packages useful for developer tooling that is not part of any individual project but instead is used for local commands.</p>
</div>
<div class="paragraph">
<p>A good example of global package is <code>@angular/cli</code>, a command line interface for angular used in our projects. You can install
a global package in npm with "npm install -g package" and "yarn global add package" with yarn, you have a npm example below:</p>
</div>
<div class="listingblock">
<div class="title">Listing 1. npm global package</div>
<div class="content">
<pre>npm install –g @angular/cli</pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://docs.npmjs.com/getting-started/installing-npm-packages-globally">Global npm</a><br>
<a href="https://yarnpkg.com/lang/en/docs/cli/global/">Global yarn</a></p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_package-version">Package version</h4>
<div class="paragraph">
<p>Dependencies are critical to the success of a package. You must be extra careful about
which version packages are using, one package in a different version may break your code.</p>
</div>
<div class="paragraph">
<p>Versioning in npm and yarn, follows a semantic called semver, following the logic
MAJOR.MINOR.PATCH, like for example, @angular/animations: 4.4.6.</p>
</div>
<div class="paragraph">
<p><strong>Different versions</strong></p>
</div>
<div class="paragraph">
<p>Sometimes, packages are installed with a different version from the one initially installed.
This happens because package.json also contains the range of versions we allow yarn or npm to
install or update to, example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"@angular/animations": "^4.2.4"</code></pre>
</div>
</div>
<div class="paragraph">
<p>And here the installed one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json"> "@angular/animations": {
      "version": "4.4.6",
      "resolved": "https://registry.npmjs.org/@angular/animations/-/animations-4.4.6.tgz",
      "integrity": "sha1-+mYYmaik44y3xYPHpcl85l1ZKjU=",
      "requires": {
        "tslib": "1.8.0"
      }</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the version we initially added is 4.2.4, and the version finally installed after
a global installation of all packages, 4.4.6.</p>
</div>
<div class="paragraph">
<p>Installing packages without package-lock.json or yarn.lock using their respective packet managers, will always
end with npm or yarn installing the latest version allowed by package.json.</p>
</div>
<div class="paragraph">
<p>"@angular/animations": "^4.2.4" contains not only the version we added, but also the range we allow npm and yarn
to update. Here are some examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"@angular/animations": "&lt;4.2.4"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The version installed must be lower than 4.2.4 .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"@angular/animations": "&gt;=4.2.4"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The version installed must be greater than or equal to 4.2.4 .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"@angular/animations": "=4.2.4"</code></pre>
</div>
</div>
<div class="paragraph">
<p>the version installed must be equal to 4.2.4 .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="json language-json">"@angular/animations": "^4.2.4"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The version installed cannot modify the first non zero digit, for example in this case
it cannot surpass 5.0.0 or be lower than 4.2.4 .</p>
</div>
<div class="paragraph">
<p>You can learn more about this in <a href="https://yarnpkg.com/en/docs/dependency-versions">Versions</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_problems-you-may-encounter">Problems you may encounter</h3>
<div class="paragraph">
<p>If you can&#8217;t find package.json, you may have deleted the one you had previously,
which means you have to download the package.json from the repository.
In the case you are creating a new project you can create a new package.json. More information
in the links below. Click on <a href="#devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_package.json">Package.json</a> if you come from that section. <br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://yarnpkg.com/en/docs/cli/init">Creating new package.json in yarn</a><br></p>
</li>
<li>
<p><a href="https://docs.npmjs.com/cli/init">Creating new package.json in npm</a><br></p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
Using npm install or yarn without package.json in your projects will
result in compilation errors. As we mentioned earlier,
Package.json contains essential information about your project.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you have package.json, but you don&#8217;t have package-lock.json or yarn.lock the use of
command "npm install" or "yarn"  may result in a different dependency tree.</p>
</div>
<div class="paragraph">
<p>If you are trying to import a module and visual code studio is not able to find it,
is usually caused by error adding the package to the project, try to add the module again with yarn or npm,
and restart Visual Studio Code.</p>
</div>
<div class="paragraph">
<p>Be careful with the semantic versioning inside your package.json of the packages,
or you may find a new update on one of your dependencies breaking your code.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="icon-tip" title=""></i>
</td>
<td class="content">
In the following <a href="https://yarnpkg.com/en/docs/selective-version-resolutions">link</a>
there is a solution to a problematic update to one package.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A list of common errors of npm can be found in: <a href="https://docs.npmjs.com/troubleshooting/common-errors">npm errors</a></p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4ts.wiki_angular_guide-npm-yarn-workflow.asciidoc_recomendations">Recomendations</h4>
<div class="paragraph">
<p>Use yarn <strong>or</strong> npm in your project, reach an agreement with your team in order to choose one, this will avoid
undesired situations like forgetting to upload an updated yarn.lock or package-lock.json.
Be sure to have the latest version of your project when possible.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="icon-tip" title=""></i>
</td>
<td class="content">
Pull your project every time it&#8217;s updated. Erase your node_modules folder and reinstall all
dependencies. This assures you to be working with the same dependencies your team has.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>AD Center recommends the use of yarn.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. A package is a file or directory that is described by a package.json. .
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2023-10-06 16:27:03 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      
      const parseCookie = str =>
        str
        .split(';')
        .map(v => v.split('='))
        .reduce((acc, v) => {
          acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
          return acc;
        }, {});
      
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      } else {
        cookies = parseCookie(document.cookie);
        if (cookies["cookie_consent"] == "accept") {
          consentGranted();
        }
      }
      
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>