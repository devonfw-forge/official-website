<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Ionic to android</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="https://devonfw.com/"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc">Ionic to android</a>
<ul class="sectlevel1">
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_assumptions">Assumptions</a></li>
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_from-ionic-to-android-project">From Ionic to Android project</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_modifications">Modifications</a></li>
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_build">Build</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_from-android-project-to-emulated-device">From Android project to emulated device</a></li>
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_from-android-project-to-real-device">From Android project to real device</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_send-apk-to-android-through-usb">Send APK to Android through USB</a></li>
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_send-apk-to-android-through-email">Send APK to Android through email</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_result">Result</a></li>
</ul>
</li>
</ul>
<h1 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc" class="sect0">Ionic to android</h1>
<div class="paragraph">
<p>This page is written to help developers to go from the source code of an ionic application to an android one, with this in mind, topics such as: environment, commands, modifications,&#8230;&#8203;  are covered.</p>
</div>
<div class="sect1">
<h2 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_assumptions">Assumptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document assumes that the reader has already:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Source code of an Ionic application and wants to build it on an android device,</p>
</li>
<li>
<p>A working installation of NodeJS</p>
</li>
<li>
<p>An Ionic CLI installed and up-to-date.</p>
</li>
<li>
<p>Android Studio and Android SDK.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_from-ionic-to-android-project">From Ionic to Android project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When a native application is being designed, sometimes, functionalities that uses camera, geolocation, push notification, &#8230;&#8203; are requested. To resolve these requests, Capacitor can be used.</p>
</div>
<div class="paragraph">
<p>In general terms, Capacitor wraps apps made with Ionic (HTML, SCSS, Typescript) into WebViews that can be displayed in native applications (Android, IOS) and allows the developer to access native functionalities like the ones said before.</p>
</div>
<div class="paragraph">
<p>Installing capacitor is as easy as installing any node module, just a few commands have to be run in a console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cd name-of-ionic-4-app</code></p>
</li>
<li>
<p><code>npm install --save @capacitor/core @capacitor/cli</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then, it is necessary to initialize capacitor with some information: app id, name of the app and the directory where your app is stored. To fill this information, run:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>npx cap init</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_modifications">Modifications</h3>
<div class="paragraph">
<p>Throughout the development process, usually back-end and front-end are on a local computer, so it&#8217;s a common practice to have different configuration files for each environment (commonly production and development). Ionic uses an angular.json file to store those configurations and some rules to be applied.</p>
</div>
<div class="paragraph">
<p>If a back-end is hosted on <code><a href="http://localhost:8081" class="bare">http://localhost:8081</a></code>, and that direction is used in every environment, the application built for android will not work because computer and device do not have the same localhost. Fortunately, different configurations can be defined.</p>
</div>
<div class="paragraph">
<p>Android Studio uses 10.0.0.2 as alias for 127.0.0.1 (computer&#8217;s localhost) so adding <code><a href="http://10.0.0.2:8081" class="bare">http://10.0.0.2:8081</a></code> in a new environment file and modifying angular.json accordingly, will make possible connect front-end and back-end.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ionic-to-android/environments.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/environments.png" alt="Android environment and angular.json"></a>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    "build": {
    ...
        "configurations": {
            ...
            "android": {
                "fileReplacements": [
                    {
                        "replace": "src/environments/environment.ts",
                        "with": "src/environments/environment.android.ts"
                    }
                ]
            },
        }
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_build">Build</h3>
<div class="paragraph">
<p>Once configured, it is necessary to build the Ionic app using this new configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ionic build --configuration=android</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The next commands copy the build application on a folder named android and open android studio.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>npx cap add android</code></p>
</li>
<li>
<p><code>npx cap copy</code></p>
</li>
<li>
<p><code>npx cap open android</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_from-android-project-to-emulated-device">From Android project to emulated device</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once Android Studio is opened, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click on "Build" &#8594; Make project.</p>
</li>
<li>
<p>Click on "Build" &#8594; Make Module 'app' (default name).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="images/ionic-to-android/and-vsc-make.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/and-vsc-make.png" alt="Click on make project" width="400"></a></span>
<span class="image"><a class="image" href="images/ionic-to-android/and-vsc-make-app.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/and-vsc-make-app.png" alt="click on make app" width="400"></a></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Click on" Build" &#8594; Build Bundle(s) / APK(s) &#8594; Build APK(s).</p>
</li>
<li>
<p>Click on run and choose a device.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="images/ionic-to-android/and-vsc-build-apk.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/and-vsc-build-apk.png" alt="click on build APK" width="400"></a></span>
<span class="image"><a class="image" href="images/ionic-to-android/and-vsc-build-run.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/and-vsc-build-run.png" alt="click on running device" width="400"></a></span></p>
</div>
<div class="paragraph">
<p>If there are no devices available, a new one can be created:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click on "Create new device"</p>
</li>
<li>
<p>Select hardware and click "Next". For example: Phone &#8594; Nexus 5X.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="images/ionic-to-android/create-new-device.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/create-new-device.png" alt="Create new device" width="400"></a></span>
<span class="image"><a class="image" href="images/ionic-to-android/new-phone-nexus.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/new-phone-nexus.png" alt="Select hardware" width="400"></a></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Download a system image.</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>Click on download.</p>
</li>
<li>
<p>Wait until the installation finished and then click "Finish".</p>
</li>
<li>
<p>Click "Next".</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify configuration (default configuration should be enough) and click "Next".</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="images/ionic-to-android/download-so.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/download-so.png" alt="Download system image" width="400"></a></span>
<span class="image"><a class="image" href="images/ionic-to-android/config-device.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/config-device.png" alt="Check configuration" width="400"></a></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Check that the new device is created correctly.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ionic-to-android/new-phone-created.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/new-phone-created.png" alt="New created device" width="400"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_from-android-project-to-real-device">From Android project to real device</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To test on a real android device, an easy approach to communicate a smartphone (front-end) and computer (back-end) is to configure a WiFi hotspot and connect the computer to it. A guide about this process can be found <a href="https://support.google.com/nexus/answer/9059108?hl=en">here</a>.</p>
</div>
<div class="paragraph">
<p>Once connected, run <code>ipconfig</code> on a console if you are using windows or <code>ifconfig</code> on a Linux machine to get the IP address of your machine&#8217;s Wireless LAN adapter WiFi.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ionic-to-android/ipconfig-short.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/ipconfig-short.png" alt="Result of `ipconfig` command on Windows 10" width="700"></a>
</div>
</div>
<div class="paragraph">
<p>This obtained IP must be used instead of "localhost" or "10.0.2.2" at environment.android.ts.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ionic-to-android/new-backend-url.PNG"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/new-backend-url.PNG" alt="Android environment file server URL" width="700"></a>
</div>
</div>
<div class="paragraph">
<p>After this configuration, follow the build steps in "From Ionic to Android project" and the first three steps in "From Android project to emulated device".</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_send-apk-to-android-through-usb">Send APK to Android through USB</h3>
<div class="paragraph">
<p>To send the built application to a device, you can connect computer and mobile through USB, but first, it is necessary to unlock developer options.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open "Settings" and go to "System".</p>
</li>
<li>
<p>Click on "About".</p>
</li>
<li>
<p>Click "Build number" seven times to unlock developer options.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ionic-to-android/enable-developer-options1_2_3.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/enable-developer-options1_2_3.png" alt="Steps to enable developer options: 1, 2, 3" width="700"></a>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Go to "System" again an then to "Developer options"</p>
</li>
<li>
<p>Check that the options are "On".</p>
</li>
<li>
<p>Check that "USB debugging" is activated.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ionic-to-android/enable-developer-options4_5_6.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/enable-developer-options4_5_6.png" alt="Steps to enable developer options: 4, 5, 6" width="700"></a>
</div>
</div>
<div class="paragraph">
<p>After this, do the step four in "From Android project to emulated device" and choose the connected smartphone.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_send-apk-to-android-through-email">Send APK to Android through email</h3>
<div class="paragraph">
<p>When you build an APK, a dialog gives two options: locate or analyze. If the first one is chosen, Windows file explorer will be opened showing an APK that can be send using email. Download the APK on your phone and click it to install.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ionic-to-android/locate-apk.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/locate-apk.png" alt="Steps to enable developer options: 4, 5, 6" width="300"></a>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_devon4ng.wiki_guide-ionic-from-code-to-android.asciidoc_result">Result</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If everything goes correctly, the Ionic application will be ready to be tested.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/ionic-to-android/real-device.png"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/ionic-to-android/real-device.png" alt="Application running on a real device" width="300"></a>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-11-17 05:50:25 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      
      const parseCookie = str =>
        str
        .split(';')
        .map(v => v.split('='))
        .reduce((acc, v) => {
          acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
          return acc;
        }, {});
      
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      } else {
        cookies = parseCookie(document.cookie);
        if (cookies["cookie_consent"] == "accept") {
          consentGranted();
        }
      }
      
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>