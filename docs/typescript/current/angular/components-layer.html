<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Components Layer :: devonfw</title>
    <link rel="canonical" href="https://devonfw.com/docs/typescript/current/angular/components-layer.html">
    <meta name="generator" content="Antora 3.0.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://devonfw.com/">devonfw</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
    <div class="navbar-end">
        <a class="navbar-item" href="https://devonfw.com/docs/java/current/">Java</a>
        <a class="navbar-item" href="https://devonfw.com/docs/typescript/current/">TypeScript</a>
        <a class="navbar-item" href="https://github.com/devonfw/ide">IDE</a>
        <a class="navbar-item" href="https://github.com/devonfw/hangar">CI/CD</a>
        <a class="navbar-item" href="https://devonfw.com/website/pages/learning/">Tutorials</a>
        <a class="navbar-item" href="https://devonfw.com/website/pages/docs/master.html">Legacy Docs</a>
          <div class="navbar-item search hide-for-print">
            <div id="search-field" class="field">
              <input id="search-input" type="text" placeholder="Search the docs">
            </div>
          </div>
        <a class="navbar-github navbar-item" href="https://github.com/devonfw/"></a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="typescript" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Typescript</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../general/general.html">General</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../general/node_version_manager.html">nvm : Node Version Manager</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../general/package_managers.html">Package Managers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../general/package_manager_workflow.html">Package Managers Workflow</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../general/yarn_2.html">Yarn 2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="angular-home.html">Angular</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="architecture-home.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ngrx-home.html">NgRx</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="guide-home.html">Guides</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="nx-home.html">Nx</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="guide-angular-libraries.html">Angular Libraries</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../ionic/ionic_home.html">Ionic</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ionic/ionic_getting_started.html">Ionic Getting Started</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ionic/ionic_to_android.html">Ionic to Android</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ionic/ionic_pwa.html">Ionic Progress Web Apps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../nestjs/nestjs-home.html">NodeJS </a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Layers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nestjs/layer-controller.html">Controller</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nestjs/layer-service.html">Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nestjs/layer-dataaccess.html">Data Access</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../nestjs/guide-nestjs-home.html">Guides</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">devon4node applications</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nestjs/samples.html">devon4node Samples</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nestjs/samples-step-by-step.html">devon4node Sample Step by Step</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../nestjs/guide-nestjs-libraries.html">NestJS Libraries</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Typescript</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../java/current/index.html">Java</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../java/current/index.html">1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Typescript</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Typescript</a></li>
    <li><a href="components-layer.html">Components Layer</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/devonfw/typescript/edit/main/modules/ROOT/pages/angular/components-layer.adoc">Contribute to this page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="contribution-overlay" class="contribution-overlay"></div>
<div id="contribution-div" class="contribution">
  <button id="contribution-btn" class="contribution-btn"><span class="close">&times</span></button>
  <div class="contribution-container">
      <div class="contribution-img"> </div>
      <h2> Contribute to help us improve!</h2> 
      <p> Are there edge cases or problems that we didn't consider? Is there a technical pitfall that we should add? Did we miss a comma in a sentence? </p>
      <p> If you have any input for us, we would love to hear from you and appreciate every contribution. Our goal is to learn from projects for projects such that nobody has to reinvent the wheel. </p>
      <p> Let's collect our experiences together to make room to explore the novel! </p> 
      <p> To contribute click on <span class="devonfw-primary-color">Contribute to this page</span> on the toolbar.</p>
  </div>
</div><h1 class="page">Components Layer</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The components layer encapsulates all components presenting the current application view state, which means data to be shown to the user.
The term component refers to a component described by the standard <a href="https://www.w3.org/standards/techs/components">Web Components</a>.
So this layer has all Angular components, directives and pipes defined for an application.
The main challenges are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>how to structure the components layer (see <a href="guide-file-structure">File Structure Guide</a>)</p>
</li>
<li>
<p>decompose components into maintainable chunks (see <a href="guide-component-decomposition">Component Decomposition Guide</a>)</p>
</li>
<li>
<p>handle component interaction</p>
</li>
<li>
<p>manage calls to the services layer</p>
</li>
<li>
<p>apply a maintainable data and event flow throughout the component tree</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_smart_and_dumb_components"><a class="anchor" href="#_smart_and_dumb_components"></a>Smart and Dumb Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The architecture applies the concept of <em>Smart</em> and <em>Dumb Components</em> (syn. <em>Containers</em> and <em>Presenters</em>).
The concept means that components are divided into <em>Smart</em> and <em>Dumb Components</em>.</p>
</div>
<div class="paragraph">
<p>A <em>Smart Component</em> typically is a top-level dialog inside the component tree.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a component, that can be routed to</p>
</li>
<li>
<p>a modal dialog</p>
</li>
<li>
<p>a component, which is placed inside <code>AppComponent</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A <em>Dumb Component</em> can be used by one to many <em>Smart Components</em>.
Inside the component tree a <em>Dumb Component</em> is a child of a <em>Smart Component</em>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<a class="image" href="images/component-tree.svg"><img src="../_images/component-tree.svg" alt="Component Tree" width="450"></a>
</div>
<div class="title">Figure 1. Component tree example</div>
</div>
<div class="paragraph">
<p>As shown the topmost component is always the <code>AppComponent</code> in Angular applications.
The component tree describes the hierarchy of components starting from <code>AppComponent</code>.
The figure shows <em>Smart Components</em> in blue and <em>Dumb Components</em> in green.
<code>AppComponent</code> is a <em>Smart Component</em> by definition.
Inside the template of <code>AppComponent</code> placed components are static components inside the component tree.
So they are always displayed.
In the example <code>OverviewComponent</code> and <code>DetailsComponent</code> are rendered by Angular compiler depending on current URL the application displays.
So <code>OverviewComponents</code> sub-tree is displayed if the URL is <code>/overview</code> and <code>DetailsComponents</code> sub-tree is displayed if the URL is <code>/details</code>.
To clarify this distinction further the following table shows the main differences.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Smart vs Dumb Components</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Smart Components</em></th>
<th class="tableblock halign-left valign-top"><em>Dumb Components</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contain the current view state</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">show data via binding (<code>@Input</code>) and contain no view state</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">handle events emitted by <em>Dumb Components</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pass events up the component tree to be handled by <em>Smart Components</em> (<code>@Output</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">call the services layer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">never call the services layer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">use services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">do not use services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">consists of n <em>Dumb Components</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is independent of <em>Smart Components</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_interaction_of_smart_and_dumb_components"><a class="anchor" href="#_interaction_of_smart_and_dumb_components"></a>Interaction of Smart and Dumb Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the usage of the <em>Smart</em> and <em>Dumb Components</em> pattern one of the most important part is component interaction.
Angular comes with built in support for component interaction with <code>@Input()</code> and <code>@Output()</code> Decorators.
The following figure illustrates an unidirectional data flow.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Data always goes down the component tree - from a <em>Smart Component</em> down its children.</p>
</li>
<li>
<p>Events bubble up, to be handled by a <em>Smart Component</em>.</p>
</li>
</ul>
</div>
<div class="imageblock text-center">
<div class="content">
<a class="image" href="images/smart-dumb-components-interaction.svg"><img src="../_images/smart-dumb-components-interaction.svg" alt="Smart and Dumb Components Interaction" width="450"></a>
</div>
<div class="title">Figure 2. Smart and Dumb Component Interaction</div>
</div>
<div class="paragraph">
<p>As shown a <em>Dumb Components</em> role is to define a signature by declaring Input and Output Bindings.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@Input()</code> defines what data is necessary for that component to work</p>
</li>
<li>
<p><code>@Output()</code> defines which events can be listened on by the parent component</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Dumb Components define a signature</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-ts hljs" data-lang="ts">export class ValuePickerComponent {

  @Input() columns: string[];
  @Input() items: {}[];
  @Input() selected: {};
  @Input() filter: string;
  @Input() isChunked = false;
  @Input() showInput = true;
  @Input() showDropdownHeader = true;

  @Output() elementSelected = new EventEmitter&lt;{}&gt;();
  @Output() filterChanged = new EventEmitter&lt;string&gt;();
  @Output() loadNextChunk = new EventEmitter();
  @Output() escapeKeyPressed = new EventEmitter();

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example shows the <em>Dumb Component</em> <code>ValuePickerComponent</code>.
It describes seven input bindings with <code>isChunked</code>, <code>showHeader</code> and <code>showDropdownHeader</code> being non mandatory as they have a default value.
Four output bindings are present. Typically, a <em>Dumb Component</em> has very little code to no code inside the TypeScript class.</p>
</div>
<div class="listingblock">
<div class="title">Smart Components use the Dumb Components signature inside the template</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;div&gt;

  &lt;value-input
    ...&gt;
  &lt;/value-input&gt;

  &lt;value-picker
    *ngIf="isValuePickerOpen"
    [columns]="columns"
    [items]="filteredItems"
    [isChunked]="isChunked"
    [filter]="filter"
    [selected]="selectedItem"
    [showDropdownHeader]="showDropdownHeader"
    (loadNextChunk)="onLoadNextChunk()"
    (elementSelected)="onElementSelected($event)"
    (filterChanged)="onFilterChanged($event)"
    (escapeKeyPressed)="onEscapePressedInsideChildTable()"&gt;
  &lt;/value-picker&gt;

&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside the <em>Smart Components</em> template the events emitted by <em>Dumb Components</em> are handled.
It is a good practice to name the handlers with the prefix <code>on*</code> (e.g. <code>onInputChanged()</code>).</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="bottom-footer">
    <ul>
      <li><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of use</a></li>
    </ul>
  </div>
</footer>
<script src="https://cginternal.devonfw.com/communitycontent/main.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
