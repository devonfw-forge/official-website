<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>devon4node Samples :: devonfw</title>
    <link rel="canonical" href="https://devonfw.com/typescript/current/nestjs/samples.html">
    <meta name="generator" content="Antora 3.0.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://devonfw.com">devonfw</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
    <div class="navbar-end">
        <a class="navbar-item" href="/docs/java/current/">Java</a>
        <a class="navbar-item" href="/docs/typescript/current/">TypeScript</a>
        <a class="navbar-item" href="#">IDE</a>
        <a class="navbar-item" href="#">CI/CD</a>
        <a class="navbar-item" href="/website/pages/learning/">Tutorials</a>
        <a class="navbar-item" href="/website/pages/solutions/">Solutions</a>
        <a class="navbar-item" href="/website/pages/docs/master.html">Legacy Docs</a>
          <div class="navbar-item search hide-for-print">
            <div id="search-field" class="field">
              <input id="search-input" type="text" placeholder="Search the docs">
            </div>
          </div>
        <a class="navbar-github navbar-item" href="https://github.com/devonfw/"></a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="typescript" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Typescript</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../general/general.html">General</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../general/node_version_manager.html">nvm : Node Version Manager</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../general/package_managers.html">Package Managers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../general/package_manager_workflow.html">Package Managers Workflow</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../general/yarn_2.html">Yarn 2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../angular/angular-home.html">Angular</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../angular/architecture-home.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../angular/ngrx-home.html">NgRx</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../angular/guide-home.html">Guides</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../angular/nx-home.html">Nx</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../angular/guide-angular-libraries.html">Angular Libraries</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../ionic/ionic_home.html">Ionic</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ionic/ionic_getting_started.html">Ionic Getting Started</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ionic/ionic_to_android.html">Ionic to Android</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ionic/ionic_pwa.html">Ionic Progress Web Apps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="nestjs-home.html">NodeJS </a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Layers</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="layer-controller.html">Controller</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="layer-service.html">Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="layer-dataaccess.html">Data Access</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="guide-nestjs-home.html">Guides</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">devon4node applications</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="samples.html">devon4node Samples</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="samples-step-by-step.html">devon4node Sample Step by Step</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="guide-nestjs-libraries.html">NestJS Libraries</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Typescript</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../java/current/index.html">Java</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../java/current/index.html">1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Typescript</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Typescript</a></li>
    <li><a href="nestjs-home.html">NodeJS </a></li>
    <li>devon4node applications</li>
    <li><a href="samples.html">devon4node Samples</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/devonfw/typescript/edit/main/modules/ROOT/pages/nestjs/samples.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">devon4node Samples</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In the folder /samples, you can find some devon4node examples that could be useful for you in order to understand better the framework.</p>
</div>
<div class="paragraph">
<p>The samples are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw-sample/devon4node-samples/tree/develop/employee">Employee</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw-sample/devon4node-samples/tree/develop/components-example">Components example</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also, we have another realistic example in the <a href="https://github.com/devonfw/my-thai-star/tree/develop/node">My Thai Star repository</a>. This example is the implementation of My Thai Star backend, which is compatible with the frontend made with Angular. To do that, this node implementation exposes the same API as Java backend. Take care with this example, as we need to follow the Java API, some components do not follow the devon4node patterns and code conventions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_todo_example"><a class="anchor" href="#_todo_example"></a>Todo example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This example is the backend part of an TO-DO application. It exposes and API where you can create, read, update and delete a TO-DO list.</p>
</div>
<div class="paragraph">
<p>In order to start the application, run the following commands in the todo folder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ yarn
$ yarn build
$ yarn start</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, you can access to the application using the url <code><a href="http://localhost:3000/v1/todo/todos" class="bare">http://localhost:3000/v1/todo/todos</a></code>. If you want to now all endpoints exposed, you can see the swagger at: <code><a href="http://localhost:3000/v1/api" class="bare">http://localhost:3000/v1/api</a></code>.</p>
</div>
<div class="paragraph">
<p>Also, in this example we show you how to control the access to you application by implementing an authentication mechanism using JWT and rol based strategy. In order to access to the list of todos (<code><a href="http://localhost:3000/v1/todo/todos" class="bare">http://localhost:3000/v1/todo/todos</a></code>), first you need to call to <code>POST <a href="http://localhost:3000/v1/auth/login" class="bare">http://localhost:3000/v1/auth/login</a></code> and in the body you need to send the user information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">{
  "username": "user",
  "password": "password"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It will return a JWT token for the user <code>user</code>. The rol of this user is USER, so you can only access to the methods GET, POST and DELETE of the endpoint <code><a href="http://localhost:3000/v1/todo/todos" class="bare">http://localhost:3000/v1/todo/todos</a></code>. If you login with the user admin/admin, you will be able to access to the methods UPDATE and PATCH.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_employee_example"><a class="anchor" href="#_employee_example"></a>Employee example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an example of employee management application. With the application you can create, read, update and delete employees.</p>
</div>
<div class="paragraph">
<p>In order to start the application, run the following commands in the todo folder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ yarn
$ yarn build
$ yarn start</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, you can access to the application using the url <code><a href="http://localhost:8081/v1/employee/employees" class="bare">http://localhost:8081/v1/employee/employees</a></code>. If you want to now all endpoints exposed, you can see the swagger at: <code><a href="http://localhost:8081/v1/api" class="bare">http://localhost:8081/v1/api</a></code>.</p>
</div>
<div class="paragraph">
<p>This is a simple example without authentication. With this example you can learn how to work with database migrations. You can find them in the folder /src/migrations. The TypeORM is configured in order to execute the migrations every time that you start this application at ormconfig.json with the following flag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">"migrationsRun": true</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also execute the migration manually by typing the command <code>devon4node db migration:run</code>, or revert executing <code>devon4node db migration:revert</code>. Take into account that the database that this application is using is an in-memory sqlite, so every time that you stop the application all data is lost.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_components_example"><a class="anchor" href="#_components_example"></a>Components example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This example allow you to understand better the execution order of the components of a devon4node application (guards, pipes, interceptors, filters, middleware).</p>
</div>
<div class="paragraph">
<p>In order to start the application, run the following commands in the todo folder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ yarn
$ yarn build
$ yarn start</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to see the execution order, you can call to <code><a href="http://localhost:3000/v1" class="bare">http://localhost:3000/v1</a></code>. It will show you the execution order of all components except the filters. If you want to know the execution order while a filter is applied, call to the endpoint with the following queries: <code>?hello=error</code>, <code>?hello=controller</code>, <code>?hello=global</code>.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="bottom-footer">
    <ul>
      <li><a>Impressum</a></li>
    </ul>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
