<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Provisioning Solutions - GitHub</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://www.katacoda.com/devonfw">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#solutions_solutions_provisioning_azure_github_index.asciidoc">Provisioning Solutions - GitHub</a>
<ul class="sectlevel1">
<li><a href="#provisioning-introduction">Provisioning Introduction</a>
<ul class="sectlevel2">
<li><a href="#context-problem">Context &amp; Problem</a></li>
<li><a href="#standard-problems">Standard Problems</a></li>
</ul>
</li>
<li><a href="#provisioning-platforms">Provisioning Platforms</a>
<ul class="sectlevel2">
<li><a href="#azure">Azure</a></li>
</ul>
</li>
<li><a href="#solutions_solutions_provisioning_azure_github_index.asciidoc_provisioning-solutions---github">Provisioning Solutions - GitHub</a>
<ul class="sectlevel2">
<li><a href="#solutions_solutions_provisioning_azure_github_index.asciidoc_overview">Overview</a></li>
<li><a href="#solutions_solutions_provisioning_azure_github_index.asciidoc_pattern-details">Pattern Details</a></li>
<li><a href="#solutions_solutions_provisioning_azure_github_index.asciidoc_variations">Variations</a></li>
<li><a href="#solutions_solutions_provisioning_azure_github_index.asciidoc_when-to-use">When to use</a></li>
</ul>
</li>
<li><a href="#solutions_solutions_provisioning_azure_github_index.asciidoc_credits">Credits</a></li>
</ul>
</li>
</ul>
<h1 id="solutions_solutions_provisioning_azure_github_index.asciidoc" class="sect0">Provisioning Solutions - GitHub</h1>
<div class="sect1">
<h2 id="provisioning-introduction">Provisioning Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="context-problem">Context &amp; Problem</h3>
<div class="paragraph">
<p>This document describes patterns to automate the deployment of an application to a target environment. The major players in this documentation are (1) the process as a whole (aka provisioning), (2) automation code and (3) application/ infra code to be deployed. Additionally a third aspect is <em>cross functionalities</em> (3) that affect the automation and the application/infra code such as compliance.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Automation code:</strong></p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The automation code is about automating parts of deployment cycle. In an ideal world this covers the entire code development cycle from opening the first branch to the final deployment. Possible activities in this cycle are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>quality gates</p>
</li>
<li>
<p>build</p>
</li>
<li>
<p>deployment</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Quality gates</strong> refer to testing or approval. Approval might include a manual approval to deploy to sensitive environments like production or enforcing a review before the commit through a pull request. Failing a quality gate should stop the workflow to proceed. Ideally they are maximizing application code coverage and kick in as early as possible.
From a timeline perspective major events that are kicking off actions from the automation code are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pull request/ commit (Only triggers quality gates that don&#8217;t take too long)</p>
</li>
<li>
<p>Build</p>
<div class="paragraph">
<p>They can be manually, scheduled (e.g. as part of a nightly build) or automatically started. Additional quality gates ensure code quality.</p>
</div>
</li>
<li>
<p>Deplyoment to target environment</p>
<div class="paragraph">
<p>A typical quality gate for sensible environments such as production are manual approvals.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The major construct is a <strong>pipeline</strong> that implements a certain activity or a combination. The trigger defines the condition that kick offs a pipeline. Kicking off a pipeline usually includes <strong>parameters</strong> such as the name of the target environment. The support of <strong>different triggers</strong> is essental to cover the entire lifecycle. Pipelines can be <strong>implemented</strong> using a UI driven or programatic approach.</p>
</div>
<div class="paragraph">
<p>Pipelines are built in a modular way which also adds intermediate steps such as placing the built output in a <strong>build artefact repository</strong> for later deployment. It also introduces the need to <strong>orchestrate</strong> them into larger workflows such as creating an entire environment from scratch.</p>
</div>
<div class="paragraph">
<p>Pipelines must ensure <strong>traceability</strong> of the performed actions across the entire chain including source code repo, the targeted environment or intermediate stores. This includes a versioning schema for built artefacts. Branches in source repos must be tagged to be able to reconstruct the code behind a versioned artefact.</p>
</div>
</div>
</div>
</li>
<li>
<p><strong>Application/ infra code:</strong></p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The base for automation code activities is the code creating or updating the infrastructure and the application on top. Focus in this documentation is the interaction between automation code and application/ infra code. This includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Programming approach (Language or UI) for deploying infrastructure and application code</p>
</li>
<li>
<p>Interaction standard problems between automation code and application/ infra code</p>
<div class="paragraph">
<p>Problems also depend on the chosen programing approach.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Not relevant are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Application code: Structuring in repo, programming language specifics and details of build mechanism</p>
</li>
<li>
<p>Specific deployment options of the platform services forming the infrastructure</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p><strong>Provisioning</strong></p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>The process must work in a compliant way end-to-end. <strong>Compliance</strong> includes the general concern security and to adhere to constraints from the organization&#8217;s perspective that need to be enforced.</p>
</div>
<div class="paragraph">
<p>Provisoning should be subject to <strong>monitoring</strong> and must be able to adapt to the <strong>organizational structure</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Configuration</strong> is also a cross concern that affects both sides. From the automation side this includes properties of the environment and settings of the involved automation code. The application specific settings are out of scope in this pattern description. However, provisioning must enable the application code to access settings.</p>
</div>
<div class="paragraph">
<p>As shown automation does not only include pipelines but also additional configuration settings. Automation code must be able to access the infra/ app code for deployment. This pattern includes guidelines regarding options to store the code and how to structure it in a <strong>repository</strong>. Application code structure is treated as black box.</p>
</div>
<div class="paragraph">
<p>In most cases enterprises have already existing technologies in place that might not be based on cloud of a certain provider. <strong>Integration</strong> with other third party offerings to cover functionally also from elsewhere is also important.</p>
</div>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The picture below summarizes the major aspects:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/problem_context.png" alt="Provisioning Problem Context" width="451" height="257">
</div>
</div>
</div>
<div class="sect2">
<h3 id="standard-problems">Standard Problems</h3>
<div class="paragraph">
<p>The following standard problems will be addressed in subsequent paragraphs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Automation code</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Regarding pipelines the folloqing aspects will be detailed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Modeling environments</p>
</li>
<li>
<p>Pipeline Implementation (Programing approaches, Triggers, Paramterization, Store Code, Quality Gates)</p>
</li>
<li>
<p>Orchestration</p>
</li>
<li>
<p>Traceability (Versioning, Tagging)</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Infra/ Application code (Programming approach,
Interaction standard problems)</p>
</li>
<li>
<p>Provisioning</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Organizational Mapping</p>
</li>
<li>
<p>Integration</p>
</li>
<li>
<p>Code Repository (Automation/ Infra &amp; App Code)</p>
</li>
<li>
<p>Configuration</p>
</li>
<li>
<p>Compliance</p>
</li>
</ul>
</div>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the following aspectcs check out the other defined patterns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Monitoring infrastructure and application code</p>
</li>
<li>
<p>General guidelines for structuring repositories (e.g. mono vs. multi-repo)</p>
</li>
<li>
<p>General guidelines for defining landing zones</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provisioning-platforms">Provisioning Platforms</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="azure">Azure</h3>
<div class="sect3">
<h4 id="overview">Overview</h4>
<div class="paragraph">
<p>This chapter lists major features/ concrete services for provisioning of the Azure platform. This architecture pattern builds on the general problem description for monitoring. The picture below summarizes major services and concepts that are discussed in detail in the next chpater.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/provisioning_azure.png" alt="Provisioning Azure Overview" width="966" height="526">
</div>
</div>
</div>
<div class="sect3">
<h4 id="automation-code">Automation code</h4>
<div class="sect4">
<h5 id="modelling-environments">Modelling Environments</h5>
<div class="paragraph">
<p>Azure provides the following structural elements to model an environment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Resource groups:</strong> Smallest possible container</p>
</li>
<li>
<p><strong>Subscriptions:</strong> One subscription can contain many resource groups. With a subscription discounts for dev/ test environments are possible.</p>
</li>
<li>
<p><strong>Management groups:</strong> One management group can contain many subscriptions. They can be used enforce policies across subscriptions if environments share common characteristics.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An environment can be linked to another environment. Linking an environment to multiple environment is beneficial for addressing cross concerns such as monitoring (Similar to Hub/ Spoke topology in networks).</p>
</div>
</div>
<div class="sect4">
<h5 id="pipeline-implementation">Pipeline Implementation</h5>
<div class="paragraph">
<p>The programming approach can be either UI driven or <strong>programmatic</strong>. Pipeline programming languages such as YAML structure the actions to be performed by the pipeline and provide basic mechansims such as downloading code from the repo, parameter handling, stating triggers and triggering other programming languages. These other languages are then used to setup infrastructure such as terraform or deploying application code.</p>
</div>
<div class="paragraph">
<p>Azure allows to <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/build/triggers?view=azure-devops"><strong>trigger</strong> pipelines</a> upon:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a push to repo</p>
</li>
<li>
<p>a pull request to repo</p>
</li>
<li>
<p>a schedule</p>
</li>
<li>
<p>a pipeline completion</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The platform allows to <strong>pass parameters</strong> by various mechanisms to pipelines(Explicit per user input, programmatically). Parameters can be passed by group identifier or explicitly as key value pairs. Complex structured objects as known from object programming languages are not directly possible (Require parsing of files with object structure). Parametrization might be constrained by the used service in certain areas.</p>
</div>
<div class="paragraph">
<p>The platform provides <strong>support for quality gates</strong> as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Static code analysis</p>
<div class="paragraph">
<p>Microsoft does not provide own tools for static code analysis but allows integration of others.</p>
</div>
</li>
<li>
<p>Automated tests (Unit, Integration, End-To-End)</p>
<div class="paragraph">
<p>Microsoft provides services that include test management e.g. creating test suites with test cases and getting an overview about the results.</p>
</div>
</li>
<li>
<p>Approval</p>
<div class="paragraph">
<p>Azure services support approval for a certain environments and enforcing pull requests as quality gates.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Azure platform provides the following basic options to <strong>store</strong> automation code:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Services that provide repositories</p>
</li>
<li>
<p>Integration of various external code repositories</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="orchestration">Orchestration</h5>
<div class="paragraph">
<p>To <strong>orchestrate</strong> pipelines the two following basic mechanisms can be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implicit Chaining</p>
<div class="paragraph">
<p>In that case the complete workflow is not explicitly coded in a dedicated pipeline. Pipelines are chained implicitly by triggering events. The biggest problem with that approach is the missing single pane of control. The current state in the overall workflow is for instance only implicitly given by the currently running pipeline.</p>
</div>
</li>
<li>
<p>Creating a dedicated orchestration pipeline</p>
<div class="paragraph">
<p>An additional pipeline triggers in this scenario other pipelines acting as building blocks. Pipelines can run separately (just run the deployment) or as part of a bigger workflow (e.g. create environment from scratch).</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Orchestration must take dependencies into account. They might result from the deployed code or the scope of the pipeline (scope is e.g. a single microservice and code includes the libraries neede).
Orchestrated pipelines must pass data between them. The recommended method is to use key vault.</p>
</div>
<div class="paragraph">
<p><strong>Recreation of resources in short intervals</strong> can cause pipelines to fail since the previously deleted resource still exists in the background.(Even although soft delete is not applicable). Whether Azure really deleted everything depends on the service. For instance Azure API management seemed to be affected by that problem.</p>
</div>
</div>
<div class="sect4">
<h5 id="traceability">Traceability</h5>
<div class="paragraph">
<p><strong>Traceability</strong> requires an identifier for referencing artefacts. A standard schema is a semantic version. The platform only supports partial support for number generation such as <a href="https://ychetankumarsarma.medium.com/build-versioning-in-azure-devops-pipelines-94b5a79f80a0">incrementing numbers</a>. Linking the code in the repo to a certain version depends on used repository.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="infrastructure-application-code">Infrastructure/ Application code</h4>
<div class="paragraph">
<p>A <strong>programming language</strong> is either "declarative" or "imperative". Declarative programming languages state the target state and it is the job of the declarative programming language how to get there. The following rules are applied to achieve that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create a resource if not there</p>
</li>
<li>
<p>update an existing resource if different properties</p>
</li>
<li>
<p>delete resource if not there</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Imperative programming languages state the how. The internal delta calculation needs to be explicitly programmed here. If possible declarative programming languages are recommended due to automatic delta calculation. Typical case is infrastructure.</p>
</div>
<div class="paragraph internal">
<p>solution_provisioning_platforms_azure_dec_opt</p>
</div>
</div>
<div class="sect3">
<h4 id="provisioning">Provisioning</h4>
<div class="sect4">
<h5 id="organizational-mapping">Organizational Mapping</h5>
<div class="paragraph">
<p>The provisioning must match the organizational requirements of your organization. Azure provides services to model sub units within your organization such as departments, projects and teams.</p>
</div>
</div>
<div class="sect4">
<h5 id="integration">Integration</h5>
<div class="paragraph">
<p>Platform allows a modular approach to outsource certain functionality to third party software such as code repository. Which parts is service specific.</p>
</div>
<div class="paragraph">
<p>External tools providing pipelines can be integrated in two conceptual ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Trigger automation pipelines from external:</strong> This involves the configuration of a CI pipeline in the external tool such as Jenkins and mechanism in the automation service that invokes the CI process when source code is pushed to a repository or a branch.</p>
</li>
<li>
<p><strong>Run external pipelines from within the platform:</strong> In this approach automation reaches out to an external tool to work with the results.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="configuration">Configuration</h5>
<div class="paragraph">
<p>Configuration for provisioning is required in various areas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Environment:</strong> E.g. name of resource group per potential target environment</p>
</li>
<li>
<p><strong>Repository:</strong> E.g. relevant repos/ branching</p>
</li>
<li>
<p><strong>Pipelines:</strong> Parameters pipelines run with such as the technical user name or settings required by the built/ deployed code.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Concrete features used for the above three points depend on the used services. A general storage for sensitive data (keys, secrets, certificates) in Azure is always Azure Key Vault.</p>
</div>
</div>
<div class="sect4">
<h5 id="compliance">Compliance</h5>
<div class="paragraph">
<p>The standard concept for role-based access controls is called RBAC in Azure. It assigns principals (humans or technical accounts) permissions for a certain resource. Regarding provisioning the following users are relevant:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Technical user (service principal) the pipelines are running with</p>
</li>
<li>
<p>Users for administrating the provisioning service</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Azure Active Directory is the central service in Azure that defines and controls all principals (human/ service) per tenant.</p>
</div>
<div class="paragraph">
<p>Granularity of roles that can be granted depend on the service. The boundaries in which users exist or permissions can be assigned is also service specific.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="solutions_solutions_provisioning_azure_github_index.asciidoc_provisioning-solutions---github">Provisioning Solutions - GitHub</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="solutions_solutions_provisioning_azure_github_index.asciidoc_overview">Overview</h3>
<div class="paragraph">
<p>GitHub was recently acquired by Microsoft. Microsoft announced that new features will be first incorporated into GitHub instead of Azure DevOps. This announcements shows the future strategic shift from Microsoft away from Azure DevOps to GitHub. The subset of features for implementing pipelines is called GitHub Actions. A pipeline is also called a workflow. So far GitHub Actions are limited to repositories within GitHub ((Running GitHub Actions in Azure requires manual installation of the required software on an Azure VM).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Azure Key Vault for storing secrets/ exchange of settings</p>
<div class="paragraph">
<p>Key vault secrets can be included by importing them as GitHub secrets as described <a href="https://docs.microsoft.com/en-us/azure/developer/github/github-key-vault">here</a>.</p>
</div>
</li>
<li>
<p>Azure App Configuration</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>This service provides settings (key-value pairs) and feature toggles. Native integrations exist for typical application programming languages like .NET/ Java. However native integrations with terraform do not exist and it is also not hardened for sensitive information as key vault. Therefore, it is recommended to use that service as special case for application layer if feature toggles are needed.</p>
</div>
<div class="paragraph">
<p>Changes at in the repo can be automatically pushed to an App Configuration instance as described  <a href="https://docs.microsoft.com/en-us/azure/azure-app-configuration/concept-github-action">here</a>.</p>
</div>
</div>
</div>
</li>
<li>
<p>Azure AD</p>
<div class="paragraph">
<p>Azure Active Directory provides the service principal the pipelines run with. The essential values are stored as GitHub secrets. From there you can use them as in your workflows as described <a href="https://docs.microsoft.com/en-us/azure/developer/github/connect-from-azure">here</a>.</p>
</div>
</li>
<li>
<p>Monitoring</p>
<div class="paragraph">
<p>GitHub Actions generates metrics to check the health pipelines and displays te state in the Azure DevOps portal. GitHub Actions provides the Checks API to output statuses, results, and logs for a workflow which you can use for download as described <a href="https://stackoverflow.com/questions/64459114/downloading-github-actions-workflow-logs-using-github-api">here</a>. An azure service without much overhead would be Azure Automation which allows to store and run scripts for polling.</p>
</div>
</li>
<li>
<p>Structural elements to model environments</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The picture illustrates the setup with the major dependencies:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/complementing_svc_github.png" alt="Complementing Services" width="594" height="335">
</div>
</div>
</div>
<div class="sect2">
<h3 id="solutions_solutions_provisioning_azure_github_index.asciidoc_pattern-details">Pattern Details</h3>
<div class="sect3">
<h4 id="solutions_solutions_provisioning_azure_github_index.asciidoc_geting-started">Geting Started</h4>
<div class="paragraph">
<p>Many aspects influence the setup of the service. Following a top down approach the following decisions have to be made:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Organizational mapping</p>
<div class="paragraph">
<p>This yields the structural components to host provisioning which will be detailed in the next chapter. It introduces the possible components and guidelines for its structuring.</p>
</div>
</li>
<li>
<p>Modelling other outlined aspects across automation, infra/ app code and provisioning</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The structural components are organizations, teams and projects (in public beta as of 19.09.2021).</p>
</div>
<div class="paragraph">
<p><strong>Organizations</strong> are a group of two or more users that typically mirror realworld organizations. They are administered by Organization members and can contain both repositories and teams.</p>
</div>
<div class="paragraph">
<p>A <strong>project</strong> is a customizable spreadsheet that integrates with your issues and pull requests on GitHub. You can customize the layout by filtering, sorting, and grouping your issues and PRs. You can also add custom fields to track metadata. Projects are flexible so that your team can work in the way that is best for them.</p>
</div>
<div class="paragraph">
<p><strong>Teams</strong> give you the ability to create groups of organization members with read, write, or admin permissions to repositories that belong to the organization. Teams are also central to many of GitHub’s collaborative features, such as team @mentions, which notify appropriate groups of people that you’d like their input or attention. Teams can be both project or subject-matter focused, and can relate to job titles or interest groups within your company as well.</p>
</div>
<div class="paragraph">
<p>When setting up your GitHub Enterprise instance, the immediate instinct may be to create an Organization for every project or department at your company, leading to many divided groups that function in GitHub as siloes. This may seem like a good way to manage permissions and reduce noise, but it’s not always the ideal strategy. In fact, it is detrimental to cross-team collaboration and can result in administrative headaches down the line. <a href="https://resources.github.com/downloads/github-guide-to-organizations.pdf">Common setups</a> are shown below:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setup Type</th>
<th class="tableblock halign-left valign-top">Company size</th>
<th class="tableblock halign-left valign-top">Benefits</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single Org and team</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">small, potentially medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ideal for highly collaborative start up</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Singe Org, multiple teams</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">medium/ small companies with strict security needs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">more granular repo access</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiple Orgs and multiple teams</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Large companys with strict repo access</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">higher level of separation, best for companys with &gt;500 users</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="solutions_solutions_provisioning_azure_github_index.asciidoc_remaining-goals-automation-code">Remaining goals (Automation Code)</h4>
<div class="paragraph">
<p>This chapter details how the above conceptual features can be achieved with Azure DevOps pipelines.</p>
</div>
<div class="paragraph">
<p>Github only allows a <strong>programming approach</strong> for pipelines. YAML organizes pipelines into a hierarchy jobs and steps (a step is also refered to as action). Steps are the workhorse where activities are implemented. Steps support scripting languages as stated below. They in turn allow to install additional libraries frameworks from third party providers such as terraform (or you use extensions that give you additional task types). The list below highlights a few YAML points you have to be aware of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Passing files/ artefacts between jobs/ pipelines</p>
<div class="paragraph">
<p>Artefacts can be passed between pipelines by uploading and downloading them from GitHub as shown <a href="https://github.com/actions/upload-artifact">here</a>.</p>
</div>
</li>
<li>
<p>Variables</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Variables can have different scopes.  Two ways are possible to pass variables between steps (<a href="https://www.edwardthomson.com/blog/github_actions_15_sharing_data_between_steps.html">set-env</a>, <a href="https://stackoverflow.com/questions/58033366/how-to-get-current-branch-within-github-actions">set as output</a>). Direct support for enum like variables do not yet exist or workarounds are needed as described <a href="https://github.community/t/can-action-inputs-be-arrays/16457">here</a>.</p>
</div>
<div class="paragraph">
<p>Variables can be simple key value pairs only. Values can be string and other basic types such as bool. Strings can contain structured json to accommodate more complex structures as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>on:
  push:
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: set output
      id: set
      run: |
         echo ::set-output name=json_var::'[{ "name": "test", "client_payload": "111" }, { "name": "test2", "client_payload": "222" }] '
    - name: use output
      run: |
        echo $json_var | jq '.[].name'
      env:
        json_var: ${{ steps.set.outputs.json_var}}</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Obtaining client secret</p>
<div class="paragraph">
<p>Scripting languages such as terraform might require the client secret for embedded scripting blocks. Due to the direct encoding as GitHub secrets this is not a problem.</p>
</div>
</li>
<li>
<p>Triggers</p>
<div class="paragraph">
<p>You can configure your workflows to run when specific activity on GitHub happens, at a scheduled time, or when an event outside of GitHub occurs as described
<a href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows">here</a>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implicit Chaining for <strong>orchestration</strong> is possible by using trigger condition. Calling other workflows explicitly is so far only possible with scripting as shown here <a href="https://github.community/t/start-a-workflow-from-another-workflow/16829">here</a>.</p>
</div>
<div class="paragraph">
<p>Orchestrated pipelines must pass data between them. The recommended method is to use key vault.</p>
</div>
<div class="paragraph">
<p><strong>Recreation of resources in short intervals</strong> might cause pipelines to fail. Even if resources are deleted they might still exist in the background (even although soft delete is not applicable). Programming languages can therefore get confused if pipelines recreate things in short intervals. Creating a new resource group can solve the problem since they are part of the tecnical resource id.</p>
</div>
<div class="paragraph">
<p>As part of the <strong>configuration</strong> GitHub Actions provide the following configuration mechanisms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Workflow</strong> input parameters</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>When using the <code>workflow_call</code> keyword, you can optionally specify inputs that are passed to the called workflow from the caller workflow. Inputs for reusable workflows are specified with the same format as action inputs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>on:
  workflow_call:
    inputs:
      username:
        description: 'A username passed from the caller workflow'
        default: 'john-doe'
        required: false
        type: string

jobs:
  print-username:
    runs-on: ubuntu-latest

    steps:
      - name: Print the input name to STDOUT
        run: echo The username is ${{ inputs.username }}</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><strong>Action</strong> can use variables as input. Outputs (=string) of a step/ job can be used in subsequent steps/ jobs.</p>
</li>
<li>
<p><strong>Environments</strong></p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Environments can hold with protection rules such as manual approval and secrets. A workflow job can reference an environment to use the environment&#8217;s protection rules and secrets. The environment name can be set dynamically in scripts as shwon <a href="https://github.community/t/how-to-set-environment-attribute-dynamically-in-a-workflow/163240/5">here</a>.</p>
</div>
<div class="paragraph">
<p>GitHub Actions includes a collection of variables called contexts and a similar collection of variables called default environment variables.
Default environment variables exist only on the runner that is executing your job.
Most contexts you can use at any point in your workflow, including when default environment variables would be unavailable. For example, you can use contexts with expressions to perform initial processing before the job is routed to a runner for execution; this allows you to use a context with the conditional if keyword to determine whether a step should run.</p>
</div>
<div class="paragraph">
<p>Secrets are encrypted environment variables that you create in an organization, repository, or repository environment. The secrets that you create are available to use in GitHub Actions workflows.</p>
</div>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Quality gates</strong> can be enforced as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Static code analysis:</p>
<div class="paragraph">
<p>Various tool support exists depending on the programming language such as <a href="https://github.com/marketplace/actions/sonarqube-scan#:~:text=SonarQube%20GitHub%20Action&amp;text=SonarQube%20is%20an%20open%2Dsource,vulnerabilities%20on%2020%2B%20programming%20languages">SonarCube</a>.</p>
</div>
</li>
<li>
<p>Automated tests (Unit, Integration, End-To-End)</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Tests can be included in pipelines via additional libraries and additional previous installment through scripting. The workflow below runs npm tests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
      - uses: actions/checkout@v2
      - name: Set up node
        uses: actions/setup-node@v1
      - name: Install dependencies
        run: npm install
      - name: Run tests
        run: npm test</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Manual approval e.g. for production</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>GitHub actions allows deployments to named environments. Approvers can then be added as environments protection rules. The terraform apply command below is bound to the environment production:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  terraformapply:
    name: 'Terraform Apply'
    needs: [terraform]
    runs-on: ubuntu-latest
    environment: production</code></pre>
</div>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="solutions_solutions_provisioning_azure_github_index.asciidoc_remaining-goals-provisioning">Remaining goals (Provisioning)</h4>
<div class="paragraph">
<p>GitHUb Actions <strong>can integrate</strong> with various external tools. Pipelines can be called from external (<a href="https://github.community/t/external-trigger/17447">see here</a>) and allow calling external tools. Various third party tools can be manually installed or used via extensions.</p>
</div>
<div class="paragraph">
<p>For <strong>compliance</strong> GitHub provides various settings as described <a href="https://docs.github.com/en/actions/learn-github-actions/security-hardening-for-github-actions">here</a>.
Secrets can be configured at the organization, repository, or environment level, and allow you to store sensitive information in GitHub. They should not contain structured content like JSON since they are reacted to avoid display in logs.
You can use the CODEOWNERS feature to control how changes are made to your workflow files. For example, if all your workflow files are stored in <code>.github/workflows</code>, you can add this directory to the code owners list, so that any proposed changes to these files will first require approval from a designated reviewer.
You should ensure that untrusted input does not flow directly into workflows, actions, API calls, or anywhere else where they could be interpreted as executable code. In addition, there are other less obvious sources of potentially untrusted input, such as branch names and email addresses, which can be quite flexible in terms of their permitted content. For example, <code>zzz";echo${IFS}"hello";#</code> would be a valid branch name. A pull request with title of a"; ls $GITHUB_WORKSPACE" would for instance list the directory if the workflow would be as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code> - name: Check PR title
        run: |
          title="${{ github.event.pull_request.title }}"
          if [[solutions_solutions_provisioning_azure_github_index.asciidoc_ $title =~ ^octocat ]]; then
          echo "PR title starts with 'octocat'"
          exit 0
          else
          echo "PR title did not start with 'octocat'"
          exit 1
          fi</code></pre>
</div>
</div>
<div class="paragraph">
<p>To help you manage the risk of dangerous patterns as early as possible in the development lifecycle, the GitHub Security Lab has developed CodeQL queries that repository owners can integrate into their CI/CD pipelines. <a href="https://github.com/github/codeql-action">This action</a> runs GitHub&#8217;s industry-leading semantic code analysis engine, CodeQL, against a repository&#8217;s source code to find security vulnerabilities. It then automatically uploads the results to GitHub so they can be displayed in the repository&#8217;s security tab.
Actions can use the GITHUB_TOKEN by accessing it from the github.token context. It&#8217;s good security practice to set the default permission for the GITHUB_TOKEN to read access only for repository contents.</p>
</div>
<div class="paragraph">
<p>The following <strong>repository</strong> structure shows a conceptual breakdown that covers most aspects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1. Infra</p>
</li>
<li>
<p>1.1. Infrastructure</p>
</li>
<li>
<p>1.1.1. Other landing zones</p>
<div class="paragraph">
<p>Represents other areas with shared functionality that are required. Examples are environments for monitoring, the environment containing Azure DevOps, Key Vault settings etc.</p>
</div>
</li>
<li>
<p>1.1.2. App Environments</p>
<div class="paragraph">
<p>Represents the environments where application is deployed to.</p>
</div>
</li>
<li>
<p>1.1.2.1. Envs</p>
<div class="paragraph">
<p>This level contains all infrastructure code for seting up en environment. The split between dev and non-dev leverages cost savings for less performant dev environments e.g. by picking cheaper service configurations or totally different Azure services.</p>
</div>
</li>
<li>
<p>1.1.2.1.1. Dev</p>
</li>
<li>
<p>1.1.2.1.2. Non-Dev</p>
</li>
<li>
<p>1.1.2.1.3. Modules</p>
<div class="paragraph">
<p>Factored out modules for shared reuse. One example is a central module to generate the name for a given module.</p>
</div>
</li>
<li>
<p>1.1.2.2. Envs-Mgmt</p>
<div class="paragraph">
<p>Captures aspects assumed by the chosen programming language such as terraform for managing an environment. This includes for instance the backend creation code.</p>
</div>
</li>
<li>
<p>1.2. Pipelines</p>
<div class="paragraph">
<p>Pipelines for automating infrastrcuture deployment.</p>
</div>
</li>
<li>
<p>2. App</p>
</li>
<li>
<p>2.1. Application (Black Box)</p>
</li>
<li>
<p>2.2. Pipelines</p>
<div class="paragraph">
<p>Pipelines for automating app code deployment.</p>
</div>
</li>
<li>
<p>3. Shared</p>
<div class="paragraph">
<p>Captures shared aspects between infrastructure and application code such as publishing key vault secrets for a pipeline or triggering another pipeline.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="solutions_solutions_provisioning_azure_github_index.asciidoc_variations">Variations</h3>
<div class="sect3">
<h4 id="solutions_solutions_provisioning_azure_github_index.asciidoc_possible-other-third-party">Possible Other Third Party</h4>
<div class="paragraph">
<p>For the following features other tools can be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Project management</strong> support can be added by using other tools such as Azure DevOps.</p>
</li>
<li>
<p><strong>Artefacts</strong> can be stored also in other systems</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="solutions_solutions_provisioning_azure_github_index.asciidoc_migrate-from-azure-devops">Migrate from Azure DevOps</h4>
<div class="paragraph">
<p>Workflows/ Repos can be created by porting from Azure DevOps. Besides Azure DevOps pipelines and Azure DevOps Repos additional features/ settings exist, which need to be considered such as Azure DevOps artefacts. The picture below summarizes the starting point.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/mig_ado_scope.png" alt="Migration Scope" width="853" height="403">
</div>
</div>
<div class="paragraph">
<p>The migration approach detailed below tries to fulfill the following constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No big bang introduction of GitHub Actions but incremental approach</p>
</li>
<li>
<p>Minimizing parallel infrastructure in GitHub until migration is fully finished</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To account for an incremental approach the pipelines are migrated first and the repo including its settings afterwards. The new GitHub workflow is created on the Azure DevOps side and copied over to GitHub Actions for execution. This helps to minimize parallel infrastructure in GitHub until Azure DevOps repos are fully migrated. The  picture below illustrate the first stage (Placement of remote executioner is just one possible example):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/mig_ado_stage_mig_pl.png" alt="Migration Stage "Migrate Pipelines"" width="864" height="342">
</div>
</div>
<div class="paragraph">
<p>In the second step the Azure DevOps Repo is moved to GitHub. All related settings are migrated. Not required components such as the remote executioner can be dropped. The  picture below illustrate the second stage:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/mig_ado_stage_mig_repo.png" alt="Migration Stage "Migrate Repo"" width="835" height="340">
</div>
</div>
<div class="paragraph">
<p>The subsequent paragraphs detail the introduced two steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Migrate Azure DevOps Pipelines to GitHub workflows</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Azure DevOps Pipeline can call GitHub Workflows. This can be used to recreate GitHub Workflows without adjusting the interface of the Azure DevOps pipelines. <a href="https://github.com/samsmithnz/AzurePipelinesToGitHubActionsConverter">Tools</a> exist that allow at least partially to automatically translate the yaml code.</p>
</div>
<div class="paragraph">
<p>Azure DevOps Artefacts can be migrated to <a href="https://docs.github.com/en/actions/advanced-guides/storing-workflow-data-as-artifacts">GitHub artefacts</a>, that can be also uploaded and downloaded for reuse.</p>
</div>
</div>
</div>
</li>
<li>
<p>Migrate Azure DevOps Repos to GitHub</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>An Azure DevOps repo can be imported into GitHub as described <a href="https://docs.github.com/en/github/importing-your-projects-to-github/importing-source-code-to-github/importing-a-git-repository-using-the-command-line">here</a>.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="solutions_solutions_provisioning_azure_github_index.asciidoc_when-to-use">When to use</h3>
<div class="paragraph">
<p>Using GitHub makes sense in the following scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You need cloud agnostic pipelines e.g. due to a multi-cloud scenario</p>
</li>
<li>
<p>Your code repository is GitHub and absence of projects for project management is not a problem or can be replaced with something else such as Azure DevOps</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="solutions_solutions_provisioning_azure_github_index.asciidoc_credits">Credits</h2>
<div class="sectionbody">
<div class="imageblock" style="text-align: right;">
<div class="content">
<a class="image" href="https://forms.office.com/Pages/ResponsePage.aspx?id=Wq6idgCfa0-V7V0z13xNYal7m2EdcFdNsyBBMUiro4NUNllHQTlPNU9QV1JRRjk3TTAwVUJCNThTRSQlQCN0PWcu"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/ms_guild_logo.png" alt="MS Guild Logo" width="160" height="75"></a>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack#">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-06-22 14:11:13 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      }
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>