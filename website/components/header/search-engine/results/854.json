{"type":"doc","filename":"devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_working-with-decision-tables.html","anchor":"devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_working-with-decision-tables","title":"Working with Decision Tables","breadcrumbs":["Tools","Solicitor User Guide","Working with Decision Tables"],"text":"Working with Decision Tables\n\nSolicitor uses the Drools rule engine to execute business rules. Business rules are\ndefined as \"extended\" decision tables. Each such decision table consists of two artifacts:\n\n\n\n\nA rule template file in specific drools template format\n\n\nAn Excel 97 (XLS) table or CSV table which defines the decision table data.\n\n\n\n\nWhen processing, Solicitor will internally use the rule template to create one or multiple rules for every record found in the Excel (or CSV) sheet.\nThe following points are important here:\n\n\n\n\nRule templates:\n\n\n\nRule templates should be regarded as part of the Solicitor implementation and should not be changed on an engagement level.\n\n\n\n\n\nExcel decision table data\n\n\n\nThe file needs to be in Excel 97 format. File suffix needs to be xls.\n\n\nThe Excel tables might be extended or changed on a per project level.\n\n\nThe rules defined by the tabular data will have decreasing \"salience\" (priority) from top to bottom\n\n\nIn general multiple rules defined within a table might fire for the same data to be processed; the definition of the rules within the rule template will normally ensure that once a rule from the decision table was processed no other rule from that table will be processed for the same data\n\n\nThe excel tables contain header information in the first row which is only there for documentation purposes; the first row is completely ignored when creating rules from the xls\n\n\nThe rows starting from the second row contain decision table data\n\n\nThe first \"empty\" row (which does not contain data in any of the defined columns) ends the decision table\n\n\nDecision tables might use multiple condition columns which define the data that a rule matches. Often such conditions are optional: If left free in the Excel table the condition will be omitted from the rule conditions. This allows to define very specific rules (which only fire on exact data patterns) or quite general rules which get activated on large groups of data. Defining general rules further down in the table (with lower salience/priority) ensures that more specific rules get fired earlier. This even allows to define a default rule at the end of the table which gets fired if no other rule could be applied.\n\n\n\n\n\nCSV decision table data\n\n\n\nThe file suffix needs to be csv.\n\n\nThe same points as for the Excel decision table data apply here.\n\n\nThe CSV has to use a comma as delimiter.\n\n\nAll values in the CSV need to be surrounded by double quotation marks to escape the comma character.\n\n\n\n\n\nrule groups: Business rules are executed within groups. All rules resulting from a single decision table are assigned to the same rule group. The order of execution of the rule groups\nis defined by the sequence of declaration in the config file. Processing of the current group will\nbe finished when there are no more rules to fire in that group. Processing of the next group will then start. Rule groups which have been finished processing will not be resumed even if rules within that group might have been activated again due to changes of the facts.\n\n\n\n\n"}