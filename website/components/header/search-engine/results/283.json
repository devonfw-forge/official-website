{"type":"doc","filename":"devonfw-guide_devon4net.wiki_howto.asciidoc.html","anchor":"devonfw-guide_devon4net.wiki_howto.asciidoc_how-to-create-and-add-certificates-to-a-project","title":"How to: Create and add certificates to a project","breadcrumbs":[".net","How To section","How to use devon4net"],"text":"How to: Create and add certificates to a project\n\nIn this part, you will learn how to easily create a new certificate and properly add it to your devon4net project.\n\n\nCreate a certificate using OpenSSL\n\nIn order to create our own certificate for development purposes we will be using OpenSSL toolkit. To ensure correct behavior, make sure the tool is properly installed.\n\n\n\n\n\nNote\n\n\nPlease refer to the OpenSSL command documentation to learn more about the commands used in this guide and how to install the toolkit.\n\n\n\n\n\nTo run commands for OpenSSL, you will need to add OpenSSL to your environment, variables, or open a OpenSSL command prompt.\n\n\n\n\n\nNote\n\n\nThe working directory (directory where all files are created and readed) is the console actual path. Use cd command to go to your desired directory.\n\n\n\n\n\nStep 1 - Create a Certificate Authority (CA)\n\nFirst we will need to create a Certificate Authority to sign the certificate. For that, we will run the following command which will create the certificate RootCA.pem and the corresponding private key RootCA.key.\n\n\n\n\n\n\n\nNow we will create the public key RootCA.crt for the certificate by running the following command:\n\n\n\n\n\n\n\nIf you want to export the certificate you can run the command:\n\n\n\n\n\n\n\n\nStep 2 - Create a Certificate signed by the CA\n\nTo create a new certificate run the following command:\n\n\n\n\n\n\n\nBefore signing it, create a domains.ext that contains the following:\n\n\n\n\n\n\n\nOnce the files are created, you’ll need to sign the certificate with the CA we created earlier:\n\n\n\n\n\n\n\nRun the next command to export the certificate:\n\n\n\n\n\n\n\nYou will end up having something like this:\n\n\n\n\n\nFigure 22. Certification Authority (left) and localhost certificate signed by CA (right)\n\n\n\n\nAdd certificates to a devon4net project\n\nOnce you have created a certificate or in case you already have yours, you can add it to your project thanks to devon4net tools.\n\n\nStep 1 - Add it to your project\n\nLocate the Certificates directory in your startup project. If it doesn’t exist, please create it and drop your certificate .pfx as shown in figure 2.\n\n\n\n\n\nFigure 23. Certificates directory in startup project\n\n\n\nStep 2 - Configure your appsettings\n\nNow configure your certificate in appsettings.Development.json. For that, you’ll need to specify the file name and the password you chose. Look for the ServerCertificate configuration and add something like this:\n\n\n\n\n\n\n\n\n\nReferences\n\nHere are some interesting references to continue learning about this topic:\n\n\n\n\nOpenSSL\n\n\nreq command documentation - OpenSSL Docs\n\n\nx509 command documentation - OpenSSL Docs\n\n\npkcs12 command documentation - OpenSSL Docs\n\n\n\n\n\n\n"}