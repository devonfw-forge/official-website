<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Communication</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body id="index.asciidoc" class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt="">
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input id="search-field" type="search" class="form-control mr-sm-2" placeholder="Search by keyword(s)..." aria-label="Search" style="height: auto;" autocomplete="off">
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width="auto" height="auto" alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="sect1">
<h2 id="index.asciidoc_communication-among-services">Communication among services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Communication is a very important aspect while building IT application, especially large and complex one or one with microservices architecture. Based on your analysis of your problems, considering the following basic questions to start with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Which services have to communicate with which services? to exchange which type of data?</p>
</li>
<li>
<p>How should the communication look like? in a synchronous way or asynchronous way?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once you have your answers, make your choices on concrete protocols, products and libraries. Using multiple of them in your application is fine.</p>
</div>
<div class="paragraph">
<p>Unfortunately, there is no silver bullet. Each communication type has its own advantages and disadvantages and target a different scenario and goals. With that said, do not always apply REST or always apply message-driven approaches (e.g. Kafka) just because you have heard some success stories about it.</p>
</div>
<div class="paragraph">
<p>Here we try to expose cross-cutting best practices for communication among services in larger IT application landscapes on a high level. Details how to implement this with specific libraries or programming-languages are described in the individual stacks of devonfw.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index.asciidoc_communication-types">Communication types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Generally, types of communication can be classified in two axes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="communication-type.svg" alt="Communication types">
</div>
</div>
<div class="paragraph">
<p>The first axis defines if the protocol is synchronous or asynchronous:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Synchronous protocol</strong>: The client sends a request and waits for a response from the service as the client code can only continue its task when it receives the server response. That’s independent of the client code execution that could be synchronous (thread is blocked) or asynchronous (thread isn’t blocked, and the response will reach a callback eventually). e.g. HTTP/HTTPs</p>
</li>
<li>
<p><strong>Asynchronous protocol</strong>: The client code or message sender usually doesn’t wait for a response. It just sends the message as when sending a message to a queue or any other message broker. e.g AMQP</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The second axis defines if the communication has a single receiver or multiple receivers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Single receiver</strong>: Each request must be processed by exactly one receiver or service.</p>
</li>
<li>
<p><strong>Multiple receivers</strong>: Each request can be processed by zero to multiple receivers. This type of communication must be asynchronous. An example is the publish/subscribe mechanism.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>One common style is single-receiver communication with a synchronous protocol like HTTP/HTTPS when invoking a regular Web API HTTP service. Microservices also typically use messaging protocols for asynchronous communication between microservices. We will discuss more about some popular approaches adopted these days including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rpc">[rpc]</a></p>
</li>
<li>
<p><a href="#messaging_and_eventing">[messaging_and_eventing]</a></p>
</li>
<li>
<p><a href="#service_mesh">[service_mesh]</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="index.asciidoc_rpc">RPC</h3>
<div class="paragraph">
<p>When it comes to RPC communication nowadays we immediately talk about HTTPS.</p>
</div>
<div class="paragraph">
<p>The most common choice is <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> with <a href="https://www.json.org/">JSON</a> that perfectly works together with web browsers.
However, please also consider other options especially for backend communication:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://grpc.io/">gRPC</a> is an efficient, high performance RPC protocol</p>
</li>
<li>
<p>…​</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Protocols like <a href="https://en.wikipedia.org/wiki/SOAP">SOAP</a> or even RMI, Corba, etc. should be considered as legacy and discouraged.</p>
</div>
</div>
<div class="sect2">
<h3 id="index.asciidoc_messaging-and-eventing">Messaging and eventing</h3>
<div class="paragraph">
<p>We do not even try to distinguish between <em>messaging</em> and <em>eventing</em>.
A message can be seen as an event and an event as a message.
The nature of this communication style is that it is entirely asynchronous and the sender of the event or message does not have to know about the receipient(s).
There can even be many recipients for the same event or message.
Typically there is a central messaging system (event bus) that is all you need to know about to send and receive your events or messages.
This leads to a very loose coupling of your services.
While this adds flexibility it also can add quite some complexity to understand what is actually going on.
Debugging and tracing the communication can get really hard.
In the worst case you can lose control and end up with cyclic events triggering each other till eternity.
However, when properly applied, this communication style can make your architecture very powerful and extendable.</p>
</div>
<div class="paragraph">
<p>One of the most common choices for such a messaging system is <a href="https://kafka.apache.org">kafka</a>. Other message brokers to be considered are <a href="https://www.rabbitmq.com/">RabbitMQ</a> and <a href="https://activemq.apache.org/">ActiveMQ</a>. In an enterprise environment where often a Oracle Database is in place you might also consider Oracle AQ.</p>
</div>
</div>
<div class="sect2">
<h3 id="index.asciidoc_service-mesh">Service mesh</h3>
<div class="paragraph">
<p>In the context of microservices, service mesh is a key to communication.
Service-to-service communication is what makes microservices possible.
But creating, routing and managing this communication, both within and across application clusters, becomes increasingly complex as the number of services grows.
Service mesh solves this problem. It takes the logic governing service-to-service communication out of individual services and abstracts it to a layer of infrastructure.
It also captures many aspects of the communication as security (e.g. encryption) or performance metrics which can be used to monitor the cluster as well as identify and analyze system failures if occurs.</p>
</div>
<div class="paragraph">
<p>One of the most common and best choices for service mesh is <a href="https://istio.io/latest/about/service-mesh/">istio</a>.
Istio is an open-source service mesh with powerful features that enable developers to easily configure</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the traffic flow</p>
</li>
<li>
<p>the authentication and authorization among internal and to external services and</p>
</li>
<li>
<p>monitoring tools such as kiali, prometheus and grafana.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index.asciidoc_communication-contracts">Communication contracts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A communication contract is a structured document that defines the expected input and output of a service.</p>
</div>
<div class="paragraph">
<p>There are two approaches to using contracts for communications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Contract first</strong>: There is a design document that defines the formal contract of the communication and the code artefacts are derived with some tooling.</p>
</li>
<li>
<p><strong>Code first</strong>: Code is written directly and documentation is generated from there.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Which approach is better depends on your project setup.
While code first often feels more lightweight and brings less over head, for a more complex project setup the formality of the contract could be very beneficial.</p>
</div>
<div class="paragraph">
<p>Contracts can be used both for synchronous or asynchronous communications, for example <a href="https://www.openapis.org/">Open Api</a> has become the standard for REST contracts and <a href="https://www.asyncapi.com/">Async Api</a> is growing in adoption for the asynchronous needs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index.asciidoc_links">Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://solace.com/blog/experience-awesomeness-event-driven-microservices/">REST vs messaging for microservices</a></p>
</li>
<li>
<p><a href="https://github.com/knative/eventing/blob/master/docs/decisions/eventing-and-messaging.md">Eventing and messaging</a></p>
</li>
<li>
<p><a href="https://developer.okta.com/blog/2020/01/22/kafka-microservices">Kafka microservices</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/dotnet/architecture/microservices/architect-microservice-container-applications/communication-in-microservice-architecture">Communication in a microservices architecture</a></p>
</li>
<li>
<p><a href="https://istio.io/latest/docs/setup/getting-started/">Getting started with istio</a></p>
</li>
<li>
<p><a href="https://www.keycloak.org/2018/02/keycloak-and-istio.html">Keycloak and istio</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index.asciidoc_implementation-hints">Implementation hints</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>REST:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/devon4j/blob/master/documentation/guide-rest.asciidoc">Java Server</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devon4j/blob/master/documentation/guide-service-client.asciidoc">Java Client</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devon4ng/blob/develop/documentation/guide-consuming-rest-services.asciidoc">Angular</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devon4net/blob/develop/documentation/userguide.asciidoc#repositories-and-services">.NET/C#</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devon4node/blob/develop/documentation/guides-swagger.asciidoc">node.js</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Kafka:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/devon4j/blob/master/documentation/guide-kafka.asciidoc">Java</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-09-09 10:43:57 UTC
</sub></div>


<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async="" src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      }
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>

</body></html>