<!DOCTYPE html><html lang="en"><head><style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style><style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Updated at 2023-10-06 16:35:53 UTC">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>devonfw guide</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body id="devonfw-guide_master.asciidoc" class="book toc2 toc-left">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt="">
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="https://devonfw.com/"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html" class="active">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input id="search-field" type="search" class="form-control mr-sm-2" placeholder="Search by keyword(s)..." aria-label="Search" style="height: auto;" autocomplete="off">
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width="auto" height="auto" alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="header">
<h1>devonfw guide</h1>
<div class="details">
<span id="author" class="author">Updated at 2023-10-06 16:44:24 UTC</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="master.html">devonfw guide</a></span></p>
</div>
</div><div id="content">
<div class="sect2">
<h3 id="devonfw-guide_devon4net.wiki_templates.asciidoc">Templates</h3>
<!-- toc disabled -->
<div class="sect3">
<h4 id="devonfw-guide_devon4net.wiki_templates.asciidoc_webapi-template">WebAPI Template</h4>
<div class="paragraph">
<p>This section contains all of the information about the template that corresponds to the Devon4net WebAPI. This template will allow you to easily create a functional API with everything set up so you can start coding for your specific domain.</p>
</div>
<div class="paragraph">
<p>Firstly, all the details about the contents of the package will be explained. Going through all of the directory tree explaining the most imporant concepts. Then we will show an example of how to add the entity Student from the domain layer all the way to the controller, so you can understand how the architecture works on this template and how the layers interact with each other.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_devon4net.application.webapi">Devon4Net.Application.WebAPI</h5>
<div class="paragraph">
<p>This is the startup project of the template. Its main purpose is to launch the api and configure it using the settings files. The following figure shows the directory tree you will find when you first use the template.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Application.WebAPI_tree.png" alt="Application.WebAPI tree">
</div>
<div class="title">Figure 145. Devon4Net.Application.WebAPI Directory tree</div>
</div>
<div class="paragraph">
<p>Everything will be set up in the <code>Program.cs</code> file as for any .Net 6 Core API project. Going through this file, you will find all the configuration included with the template, such as middlewares and Dependency Injection.</p>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_appsettings.json">appsettings.json</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "devonfw": {
    "UseDetailedErrorsKey": true,
    "UseIIS": false,
    "UseSwagger": true,
    "UseXsrf": true,
    "UseModelStateValidation": true,
    "Environment": "Development",
    "ForceUseHttpsRedirection": false,
    "Kestrel": {
      "UseHttps": false,
      "HttpProtocol": "Http1AndHttp2",
      "ApplicationPort": 8085,
      "SslProtocol": "Tls12",
      "ExtraSettings": {
        "KeepAliveTimeout": 120,
        "MaxConcurrentConnections": 100,
        "MaxConcurrentUpgradedConnections": 100,
        "MaxRequestBodySize": 28.6,
        "Http2MaxStreamsPerConnection": 100,
        "Http2InitialConnectionWindowSize": 131072,
        "Http2InitialStreamWindowSize": 98304,
        "AllowSynchronousIO": true
      }
    },
    "IIS": {
      "ForwardClientCertificate": true,
      "AutomaticAuthentication": true,
      "AuthenticationDisplayName": ""
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the following list all the configuration fields are described:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UseIIS</code>: Boolean that indicates if IIS is used.</p>
</li>
<li>
<p><code>ValidateIssuerSigningKey</code>: Boolean that controls if validation of the security key that signed the securityToken is called.</p>
</li>
<li>
<p><code>UseXsrf</code>: Boolean that adds Anti Forgery middleware to prevent XSRF attacks.</p>
</li>
<li>
<p><code>UseModelStateValidation</code>: Boolean that indicates if model validation is called.</p>
</li>
<li>
<p><code>Environment</code>: Running environment to load the corresponding configuration (Development, Production…​)</p>
</li>
<li>
<p><code>ForceUseHttpsRedirection</code>: Boolean to force adding a middleware that redirects HTTP requests to HTTPS.</p>
</li>
<li>
<p><code>Kestrel</code>: Kestrel server configuration</p>
<div class="ulist">
<ul>
<li>
<p><code>UseHttps</code>: Boolean to indicate if the connection needs to be secured via HTTPS.</p>
</li>
<li>
<p><code>HttpProtocol</code>: Hypertext protocol used.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Protocol</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Http1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP/1.x (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Http2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP/2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Http1andHttp2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both HTTP/1.x and HTTP/2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>none</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>ApplicationPort</code>: Port number where the API will listen</p>
</li>
<li>
<p><code>SslProtocol</code>: SSL encrytion protocol for Https</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Protocol</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tls12</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS 1.2 (default, needed for Https2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Tls13</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS 1.3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>none</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>ExtraSettings</code>: Some extra settings for Kestrel</p>
<div class="ulist">
<ul>
<li>
<p><code>KeepAliveTimeout</code>: Sets the keep-alive timeout in seconds.</p>
</li>
<li>
<p><code>MaxConcurrentConnections</code>: Maximum number of open connections. Null is unlimited. Default is 100.</p>
</li>
<li>
<p><code>MaxConcurrentUpgradedConnections</code>: Maximum number of open upgraded connectinos. Null is unlimited. An upgraded connection is one that has been switched from HTTP to another protocol. Default is 100.</p>
</li>
<li>
<p><code>MaxRequestBodySize</code>: Maximum allowed size of any request body in MB. Default is 28.6MB.</p>
</li>
<li>
<p><code>Http2MaxStreamsPerConnection</code>: Maximum number of concurrent request streams per HTTP/2 connection. Excess streams will be refused. Default is 100.</p>
</li>
<li>
<p><code>Http2InitialConnectionWindowSize</code>: Indicates how much request body data the server is willing to receive and buffer at a time aggregated across all requests (streams) per connection. Value must be greater or equal to 65,535 and less than 2^31. Defaults to 128 KB.</p>
</li>
<li>
<p><code>Http2InitialStreamWindowSize</code>: Indicates how much request body data the server is willing to receive and buffer at a time per stream.</p>
</li>
<li>
<p><code>AllowSynchronousIO</code>: Boolean that controls wether Synchronous IO operations are allowed in requests.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><code>IIS</code>: Internet Information Services configuration</p>
<div class="ulist">
<ul>
<li>
<p><code>ForwardClientCertificate</code>:  Populates the ITLSConnectionFeature if the MS-ASPNETCORE-CLIENTCERT request header is present</p>
</li>
<li>
<p><code>AutomaticAuthentication</code>: If true the middleware should set HttpContext.User. If false the middleware will only provide an identity when explicitly requested by the AuthenticationScheme. Note Windows Authentication must also be enabled in IIS for this to work.</p>
</li>
<li>
<p><code>AuthenticationDisplayName</code>: Sets the display name shown to users on login pages. The default is null</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each environment you can have a different configuration if you wish. You will find an <code>appsettings.Development.json</code> file where the configuration for the different components used in the template is placed. Please go through the documentation of each component to learn more about how are they configured.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_devon4net.application.implementation">Devon4Net.Application.Implementation</h5>
<div class="paragraph">
<p>This is where all the magic happens. This project holds all the classes needed to implement the API end-points. The following image shows the structure you will find in this project.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Application.WebAPI.Implementation_tree.png" alt="Application.WebAPI.Implementation tree">
</div>
<div class="title">Figure 146. Devon4Net.Application.WebAPI.Implementation Directory tree</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please refer to documentation about Architecture to understand better the proposed architecture which is Onion Architecture.
</td>
</tr>
</tbody></table>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_configuration">Configuration</h6>
<div class="paragraph">
<p>In this directory the Configuration is placed, you will find all the dependency injection code for this project in the static class <code>DevonConfiguration</code>. The code is divided into many private extensions based on their intended use, all of which are called by one main public extension for the <code>IServiceCollection</code> interface in the <code>Program.cs</code> file.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you need to segregate chunks of code, don’t be afraid to add extra static classes. This will improve reading and it will make it much easier to locate items later.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_domain">Domain</h6>
<div class="paragraph">
<p>As you may have learned thanks to the architecture document, this is the core of the application. It holds the entities and the contracts for the operations you can execute on them, that last being the repository interfaces.</p>
</div>
<div class="paragraph">
<p>You will be able to find also the different database contexts for the application in the Database directory. These contexts will allow <code>EntityFramework</code> to work properly by extending <code>DbContext</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Application.WebAPI.Implementation.Domain.png" alt="Application.WebAPI.Implementation.Domain">
</div>
<div class="title">Figure 147. Devon4Net.Application.WebAPI.Implementation Domain layer</div>
</div>
<div class="paragraph">
<p>The repositories interfaces extend from a generic repository interface <code>IRepository&lt;T&gt;</code> available in Devon4Net. As you can see in figure 3, Devon4Net already comes with some examples of implementation for some entities. Please revise them so that you have a better understanding of how they work.</p>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_data">Data</h6>
<div class="paragraph">
<p>The Data directory corresponds to the Data Layer and implements all the interfaces contracts. This Repositories extend from a generic repository implementation <code>Repository&lt;T&gt;</code> available in Devon4Net. As you can see in the next figure, the template also come with some examples of implementation.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Application.WebAPI.Implementation.Data.png" alt="Application.WebAPI.Implementation.Data">
</div>
<div class="title">Figure 148. Devon4Net.Application.WebAPI.Implementation Data layer</div>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_business">Business</h6>
<div class="paragraph">
<p>The Business directory is where all the application logic is placed, it corresponds to the Business Layer. You will find a lot of implemented examples as shown in the next image.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Application.WebAPI.Implementation.Business.png" alt="Application.WebAPI.Implementation.Business">
</div>
<div class="title">Figure 149. Devon4Net.Application.WebAPI.Implementation Business layer</div>
</div>
<div class="paragraph">
<p>These are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>AntiForgeryTokenManagement:</strong> This is an example of how to use the XSRF protection in API controllers. It contains a controller class with a working example.</p>
<div class="imageblock">
<div class="content">
<img src="images/AntiForgeryTokenManagement.png" alt="AntiForgeryTokenManagement">
</div>
<div class="title">Figure 150. AntiForgeryTokenManagement directory</div>
</div>
</li>
<li>
<p><strong>AuthManagement:</strong> This example shows how to use Authorization in API controllers thanks to Json Web Tokens. It contains a controller class and some response entities needed to return information.</p>
<div class="imageblock">
<div class="content">
<img src="images/AuthManagement.png" alt="AuthManagement">
</div>
<div class="title">Figure 151. AuthManagement directory</div>
</div>
</li>
<li>
<p><strong>EmployeeManagement:</strong> This directory contains all the implementation classes for entity type Employee.</p>
<div class="imageblock">
<div class="content">
<img src="images/EmployeeManagement.png" alt="EmployeeManagement">
</div>
<div class="title">Figure 152. EmployeeManagement directory</div>
</div>
</li>
<li>
<p><strong>MediatRManagement:</strong> Example of how implement MediatR for using CQRS pattern.</p>
<div class="imageblock">
<div class="content">
<img src="images/MediatRManagement.png" alt="MediatRManagement">
</div>
<div class="title">Figure 153. MediatRManagement directory</div>
</div>
</li>
<li>
<p><strong>RabbitMqManagement:</strong> Sample of implementation of RabbitMq queues.</p>
<div class="imageblock">
<div class="content">
<img src="images/RabbitMqManagement.png" alt="RabbitMqManagement">
</div>
<div class="title">Figure 154. RabbitMqManagement directory</div>
</div>
</li>
<li>
<p><strong>TodoManagement:</strong> Implementation sample of entity type Todo.</p>
<div class="imageblock">
<div class="content">
<img src="images/TodoManagement.png" alt="TodoManagement">
</div>
<div class="title">Figure 155. TodoManagement directory</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_sample-of-use">Sample of use</h5>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you don’t know how to install and use this template, please refer to documentation on how to do it.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In this part we will be creating CRUD (Create, Read, Update and Delete) operations for the entity type <code>Student</code>. Before that, we will delete the samples that come with the template.</p>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_step-1-entity">Step 1: Entity</h6>
<div class="paragraph">
<p>First we will need the object <code>Student</code>. For that we will need to create a new <code>Student.cs</code> class in <code>Domain\Entities</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">public class Student
{
    public long Id { get; set; }
    public string Name { get; set; }
    public string Surname { get; set; }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Our student should have an Identifier, and we will also put some interesting properties, name and surname for example.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Is good practice to override <code>object</code> methods: <code>Equals(object o)</code>, <code>GetHashCode()</code> and <code>ToString()</code>.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_step-2-context">Step 2: Context</h6>
<div class="paragraph">
<p>EntityFramework will need a context to be able to work with Students. Lets create a <code>StudentContext.cs</code> class in <code>Domain\Database</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">public class StudentContext : DbContext
{
    public virtual DbSet&lt;Student&gt; Students { get; set; }
    public StudentContext(DbContextOptions&lt;StudentContext&gt; options) : base(options)
    {
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_step-3-repository-contract">Step 3: Repository contract</h6>
<div class="paragraph">
<p>The repository contract in <code>Data\RepositoryInterfaces</code> will allow us to inject the repository and will increase decoupling. It will be implemented in the next step. You can inherit methods from Devon4Net <code>IRepository</code> as shown, but we will be also implementing a couple of queries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">public interface IStudentRepository : IRepository&lt;Student&gt;
{
    Task&lt;long&gt; DeleteById(long id);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Everything should be asynchronous making use of the <code>Task</code> class.</p>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_step-4-repository-implementation">Step 4: Repository implementation</h6>
<div class="paragraph">
<p>Now we will need a repository implementation for the previous interface. It will be placed in <code>Data\Repositories</code>, it will inherit also from Devon4Net generic repository and will implement interface methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">public class StudentRepository : Repository&lt;Student&gt;, IStudentRepository
{
    public StudentRepository(StudentContext context) : base(context)
    {
    }

    public async Task&lt;long&gt; DeleteById(long id)
    {
        var deleted = await Delete(t =&gt; t.Id == id).ConfigureAwait(false);
        if (deleted) return id;
        throw  new ArgumentException($"The Todo entity {id} has not been deleted.");
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_step-5-studentdto">Step 5: StudentDto</h6>
<div class="paragraph">
<p>To increase decoupling, we will create a copy of the entity Student in <code>Business\Dto</code> for the Business layer. To make it a little different we will be including the surname in the property <code>FullName</code> and it will be separated before being stored in the database and viceversa:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">public class StudentDto
{
    public long Id { get; set; }
    public string FullName { get; set; }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We will need also a converter placed in <code>Business\Converters</code> so we can transform it in both directions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">public static class StudentConverter
{
    public static StudentDto EntityToDto(Student item)
    {
        if (item == null) return new StudentDto();
        return new StudentDto
        {
            Id = item.Id,
            FullName = item.Name + " " + item.Surname
        };
    }

    public static Student DtoToEntity(StudentDto item)
    {
        if (item == null) return new Student();
        return new Student
        {
            Id = item.Id,
            Name = item.FullName.Split(" ")[0],
            Surname = item.FullName.Split(" ")[1]
        };
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_step-6-service">Step 6: Service</h6>
<div class="paragraph">
<p>Now we will need a service in <code>Business\StudentManagement\Service</code>. The service will execute all the necessary operations.  In this case as it is a simple CRUD it will only call the repository. The Devon4Net Service class implements Unit of Work pattern.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">public interface IStudentService
{
    Task&lt;IEnumerable&lt;StudentDto&gt;&gt; GetAllStudents();
    Task&lt;Student&gt; CreateStudent(StudentDto student);
    Task&lt;long&gt; DeleteStudentById(long id);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">public class StudentService: Service&lt;StudentContext&gt;, IStudentService
{
    private readonly IStudentRepository _studentRepository;

    public StudentService(IUnitOfWork&lt;StudentContext&gt; uoW) : base(uoW)
    {
        _studentRepository = uoW.Repository&lt;IStudentRepository&gt;();
    }

    public async Task&lt;IEnumerable&lt;StudentDto&gt;&gt; GetAllStudents()
    {
        Devon4NetLogger.Debug("GetTodo method from service TodoService");
        var result = await _studentRepository.Get().ConfigureAwait(false);
        return result.Select(StudentConverter.EntityToDto);
    }

    public async Task&lt;StudentDto&gt; CreateStudent(StudentDto student)
    {
        var result = await _studentRepository.Create(StudentConverter.DtoToEntity(student));
        return StudentConverter.EntityToDto(result);
    }

    public async Task&lt;long&gt; DeleteStudentById(long id)
    {
        var todo = await _studentRepository.GetFirstOrDefault(t =&gt; t.Id == id).ConfigureAwait(false);
        if (todo == null) throw new ArgumentException($"The provided Id {id} does not exist");
        return await _studentRepository.DeleteById(id).ConfigureAwait(false);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_step-7-controller">Step 7: Controller</h6>
<div class="paragraph">
<p>The controller will end up looking like this and needs to be placed in <code>Business\StudentManagement\Controllers</code>. It uses the <code>IStudentService</code> via dependency injection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">[EnableCors("CorsPolicy")]
[ApiController]
[Route("[controller]")]
public class StudentController : ControllerBase
{
    private readonly IStudentService _studentService;

    public StudentController(IStudentService studentService)
    {
        _studentService = studentService;
    }

    [HttpGet]
    [ProducesResponseType(typeof(List&lt;StudentDto&gt;), StatusCodes.Status200OK)]
    [ProducesResponseType(StatusCodes.Status400BadRequest)]
    [ProducesResponseType(StatusCodes.Status404NotFound)]
    [ProducesResponseType(StatusCodes.Status500InternalServerError)]
    public async Task&lt;ActionResult&gt; GetStudents()
    {
        return Ok(await _studentService.GetAllStudents().ConfigureAwait(false));
    }

    [HttpPost]
    [ProducesResponseType(typeof(StudentDto), StatusCodes.Status201Created)]
    [ProducesResponseType(StatusCodes.Status400BadRequest)]
    [ProducesResponseType(StatusCodes.Status404NotFound)]
    [ProducesResponseType(StatusCodes.Status500InternalServerError)]
    public async Task&lt;ActionResult&gt; Create(StudentDto student)
    {
        var result = await _studentService.CreateStudent(student).ConfigureAwait(false);
        return StatusCode(StatusCodes.Status201Created, result);
    }

    [HttpDelete]
    [ProducesResponseType(typeof(long), StatusCodes.Status200OK)]
    [ProducesResponseType(StatusCodes.Status400BadRequest)]
    [ProducesResponseType(StatusCodes.Status404NotFound)]
    [ProducesResponseType(StatusCodes.Status500InternalServerError)]
    public async Task&lt;ActionResult&gt; Delete(long id)
    {
        return Ok(await _studentService.DeleteStudentById(id).ConfigureAwait(false));
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_step-8-dependency-injection">Step 8: Dependency Injection</h6>
<div class="paragraph">
<p>Now we are ready to inject the context in <code>Configuration\DevonConfiguration.cs</code>. In this example we are creating a database stored in memory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">services.SetupDatabase&lt;StudentContext&gt;(configuration, "Default", DatabaseType.InMemory).ConfigureAwait(false);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also the repository and the service, so we can use them in the entire solution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">services.AddTransient&lt;IStudentRepository, StudentRepository&gt;();
services.AddTransient&lt;IStudentService, StudentService&gt;();</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_test">Test</h6>
<div class="paragraph">
<p>Now you can run the application and go to the path <code>swagger/index.html</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
take a look at your application port and the protocol you configured (http or https).
</td>
</tr>
</tbody></table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/WebApi_template_swagger.png" alt="WebApi template swagger">
</div>
<div class="title">Figure 156. Swagger test for Student</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4net.wiki_templates.asciidoc_grpc-template">gRPC Template</h4>
<div class="paragraph">
<p>In this part of the document you will learn what is gRPC and how the devon4net gRPC template works.</p>
</div>
<div class="paragraph">
<p>To help you understand how the template works, we will first go over some general concepts concerning gRPC technology in broad strokes. Then continue describing the contract shared between client and server and how it is formed using Google’s Protocol Buffers. And last but not least, both the GrpcClient and the GrpcServer will be explained.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_grpc">gRPC</h5>
<div class="paragraph">
<p>gRPC is a modern open source high performance Remote Procedure Call (RPC) framework. It is totally independent of the language used on the client side and the server side.</p>
</div>
<div class="paragraph">
<p>In gRPC a client app can directly call a method on a server application. Both parts need to share a file that acts as a contract. This way compatibility is ensured between client and server without taking languages into account.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/gRPC.png" alt="gRPC">
</div>
<div class="title">Figure 157. gRPC diagram</div>
</div>
<div class="paragraph">
<p>On the server side, we need to develop a service that implements the contract shared between both parts and also listens to client calls and process them using this implementation.</p>
</div>
<div class="paragraph">
<p>On the client side, the client can use the methods provided by this contract thanks to the "stub" (gRPC client).</p>
</div>
<div class="paragraph">
<p>This file is the Protocol Buffer (".proto" file)and needs to be both in the client and the server for them to understand each other.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_protocol-buffers">Protocol Buffers</h5>
<div class="paragraph">
<p>Protocol buffers provide a cross-platform mechanism for serializing structured data. It is like a JSON file, but smaller and faster.</p>
</div>
<div class="paragraph">
<p>This protocol buffers are written in an language called <code>proto3</code>. The following piece of code describes an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-proto" data-lang="proto">syntax = "proto3";

option csharp_namespace = "Devon4Net.Application.GrpcClient.Protos";

package greet;

// The greeting service definition.
service Greeter {
  // Sends a greeting
  rpc SayHello (HelloRequest) returns (HelloReply);
}

// The request message containing the user's name.
message HelloRequest {
  string name = 1;
}

// The response message containing the greetings.
message HelloReply {
  string message = 1;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first line, specifies that you are using the <code>proto3</code> version. There are other versions such as <code>proto2</code>.</p>
</div>
<div class="paragraph">
<p>The option <code>csharp_namespace</code> specifies the namespace of the proto file in C#.</p>
</div>
<div class="paragraph">
<p>A message types are definitions of object structures. A message might have different fields, that have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Type: Type of the field value. It can be any scalar type (int32, double, string…​) or composite type (enumerations, other messages…​).</p>
</li>
<li>
<p>Number: Each field has a unique number which is used to identify the field.</p>
</li>
<li>
<p>Rule: Singular (can have zero or one) or repeated (can be zero or multiple times rpeated)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also see a service contract, which is called <code>Greeter</code> and has a method <code>SayHello</code> that accepts a <code>HelloRequest</code> and returns a <code>HelloReply</code>, both also defined on the file.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_devon4net.application.grpcserver">Devon4Net.Application.GrpcServer</h5>
<div class="paragraph">
<p>This project will launch the server that will be called from the GrpcClient and will manage the rpc calls to the available methods.</p>
</div>
<div class="paragraph">
<p>The proto file, which is shown in the previous section, defines the contract for the service, that will need to be implemented in this same project.</p>
</div>
<div class="paragraph">
<p>As you can see in the following figure, the proto file is placed in the directory <code>Protos</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grpc_server.png" alt="grpc server">
</div>
<div class="title">Figure 158. GrpcServer directory tree</div>
</div>
<div class="paragraph">
<p>The service <code>GreeterService</code>, will need to extend <code>Greeter.GreeterBase</code> which is generated automatically thanks to the service named <code>Greeter</code> in the proto file.</p>
</div>
<div class="paragraph">
<p>This service will need to override the method <code>SayHello</code> defined in the proto file. This method can be overriden from the class <code>Greeter.GreeterBase</code> as it was already implemented:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">[GrpcDevonService]
public class GreeterService : Greeter.GreeterBase
{
    public GreeterService()
    {
    }

    public override Task&lt;HelloReply&gt; SayHello(HelloRequest request, ServerCallContext context)
    {
        return Task.FromResult(new HelloReply
        {
            Message = "Hello " + request.Name
        });
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice the attribute <code>GrpcDevonService</code>. All services marked with this attribute will be auto registered in the <code>Program.cs</code> when adding the following line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">builder.Services.AddGrpc();
.
.
.
app.SetupGrpcServices(new List&lt;string&gt; { "Devon4Net.Application.GrpcServer" });</code></pre>
</div>
</div>
<div class="paragraph">
<p>The list of strings provided as argument is the list of assemblies where devon will look for gRPC services tagged with that attribute.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Check the component documentation to learn more.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_devon4net.application.grpcclient">Devon4Net.Application.GrpcClient</h5>
<div class="paragraph">
<p>The client project will access the GrpcServer project end-point thanks to the protocol buffer and the configuration in the <code>appsettings.{environment}.json</code>. For trying out the communication between the client and the server, you will find an end-point in the <code>GrpcGreeterController</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grpc_client.png" alt="grpc client">
</div>
<div class="title">Figure 159. GrpcClient directory tree</div>
</div>
<div class="paragraph">
<p>The configuration is done adding the following options to the settings file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json"> "Grpc": {
    "EnableGrpc": true,
    "UseDevCertificate": true,
    "GrpcServer": "https://localhost:5002",
    "MaxReceiveMessageSize": 16,
    "RetryPatternOptions": {
      "MaxAttempts": 5,
      "InitialBackoffSeconds": 1,
      "MaxBackoffSeconds": 5,
      "BackoffMultiplier": 1.5,
      "RetryableStatus": "Unavailable"
    }
  },</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>GrpcServer</code> is the direction of the gRPC end-points. To learn more about the component configuration please visit the package documentation.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The following line will configure the component to use this configuration in the <code>Program.cs</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">builder.Services.SetupGrpc(builder.Configuration);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The greeter controller will use a <code>GrpcChannel</code> injected in the constructor as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">[ApiController]
[Route("[controller]")]
public class GrpcGreeterClientController : ControllerBase
{
    private GrpcChannel GrpcChannel { get; }

    public GrpcGreeterClientController(GrpcChannel grpcChannel)
    {
        GrpcChannel = grpcChannel;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will find that the end-point that accesses the gRPC service looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c#" data-lang="c#">[HttpGet]
public async Task&lt;HelloReply&gt; Get(string name)
{
    try
    {
        var client = new Greeter.GreeterClient(GrpcChannel);
        return await client.SayHelloAsync(new HelloRequest { Name = name }).ResponseAsync.ConfigureAwait(false);
    }
    catch (Exception ex)
    {
        Devon4NetLogger.Error(ex);
        throw;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Greeter.GreeterClient</code> is created automatically and can be used when adding the reference to the proto file namespace with the <code>using</code> directive.</p>
</div>
</div>
<div class="sect4">
<h5 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_references">References</h5>
<div class="ulist">
<ul>
<li>
<p><a href="https://grpc.io/docs/what-is-grpc/introduction/">Introduction to gRPC - gRPC Docs</a></p>
</li>
<li>
<p><a href="https://developers.google.com/protocol-buffers/docs/overview">Protocol Buffers - Google Docs</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4net.wiki_templates.asciidoc_aws-templates">AWS Templates</h4>
<div class="paragraph">
<p>The devon4net stack includes a variety of templates aimed at developing applications with Amazon Web Services (AWS). AWS is the most used cloud computing platform and that is why Devon gives you the resources you need to make designing and developing for this cloud technology much more simpler and efficient.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_aws-introduction">AWS Introduction</h5>
<div class="paragraph">
<p>Amazon Web Services (AWS) is a collection of cloud computing services that Amazon provides an online scalable and cost-effective platform to developers and companies dedicated to software.</p>
</div>
<div class="paragraph">
<p>It’s mainly directed to online services and its the leading cloud provider in the marketplace providing over 100+ services and a platform to manage them all.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_devon4net.application.lambda">Devon4Net.Application.Lambda</h5>
<div class="paragraph">
<p>This package is a template for constructing Lambda Functions for AWS. It makes use of the <code>Devon4Net.Infrastructure.AWS.Lambda</code>, so please read the documentation about this component before starting to use the template. You also have a 'How to: AWS Lambda' tutorial that shows you how you can develop a lambda function making use of this template.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/aws_template_structure.png" alt="aws template structure">
</div>
<div class="title">Figure 160. lambda Template File structure</div>
</div>
<div class="paragraph">
<p>In the previous figure you can see the whole structure of the package. It has one main directory called <code>business</code> where you can find three different examples of Lambda functions that will be explained further on this document.</p>
</div>
<div class="paragraph">
<p>Each of the three management directories is divides as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Dto</code>: Here are placed the necessary classes of the custom objects that are used to input and output the data in the lambda functions.</p>
</li>
<li>
<p><code>Functions</code>: This folder will contain the function definition for the lambda functions.</p>
</li>
<li>
<p><code>Handlers</code>: In this directory the classes that implement the <code>FunctionHandler</code> method that will define the lambda function behaviour.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You will also find in the same level as the business directory some configuration files and a <code>Readme.md</code> file with some extra information.</p>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_configuration_4">Configuration</h6>
<div class="paragraph">
<p>The configuration files are the following:</p>
</div>
<div class="sect6">
<h7 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_appsettings.json_5">appsettings.json</h7>
<div class="paragraph">
<p>This file contains the configuration for all of the components and the project in general. It can contain subversions following the structure <code>appsettings.{environment}.json</code> and it contains the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "AWS": {
    "UseSecrets": true,
    "UseParameterStore": true,
    "Credentials": {
      "Profile": "",
      "Region": "eu-west-1",
      "AccessKeyId": "",
      "SecretAccessKey": ""
    }
  }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UseSecrets</code>: Boolean to indicate if AWS Secrets Manager is being used.</p>
</li>
<li>
<p><code>UseParameterStore</code>: Boolean to indicate if AWS Parameter Store is being used.</p>
</li>
<li>
<p><code>Credentials</code>: Credentials for connecting the app with your AWS profile.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Read the AWS components documentation to learn more about the configuration you can do in this type of files.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect6">
<h7 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_aws-lambda-tools-defaults.json">aws-lambda-tools-defaults.json</h7>
<div class="paragraph">
<p>This file provides default values to the AWS CLI for configuring and deploy with Visual Studio.</p>
</div>
<div class="paragraph">
<p>Run this command to learn more:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">dotnet lambda deploy-serverless --help</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "Information": [
    "This file provides default values for the deployment wizard inside Visual Studio and the AWS Lambda commands added to the .NET Core CLI.",
    "To learn more about the Lambda commands with the .NET Core CLI execute the following command at the command line in the project root directory.",
    "dotnet lambda help",
    "All the command line options for the Lambda command can be specified in this file."
  ],
  "profile": "default",
  "region": "eu-west-1",
  "framework": "net6.0",
  "configuration": "Release",
  "s3-prefix": "AWSServerlessTest/",
  "function-memory-size": 256,
  "function-timeout": 30,
  "function-handler": "Devon4Net.Application.Lambda::AWSLambda.Bussiness.StringManagement.UpperFunction::FunctionHandler",
  "template": "serverless.template"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>function-handler</code> option is the function handler location in the form of <code>Assembly::Namespace.ClassName::MethodName</code>. And the <code>template</code> option will point to a configuration file for the cloud formation.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Read the AWS documentation to learn more about this configuration.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect6">
<h7 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_serverless.template">serverless.template</h7>
<div class="paragraph">
<p>This configuration provides all the information to the Cloud System so that you don’t have to adjust anything for deploying the function/s.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Transform": "AWS::Serverless-2016-10-31",
  "Description": "An AWS Serverless Application that uses the ASP.NET Core framework running in Amazon Lambda.",
  "Parameters": {},
  "Conditions": {},
  "Resources": {
    "ToUpperFunction": {...},
    "ToLowerFunction": {...},
    "SnsManagementFunction": {...},
    "SqsManagementFunction": {...},
  },
  "Outputs": {
    "ApiURL": {
      "Description": "API endpoint URL for Prod environment",
      "Value": {
        "Fn::Sub": "https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/"
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you will notice, the <code>Resources</code> part contains the configuration for each function.</p>
</div>
<div class="paragraph">
<p>This configuration will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"ToUpperFunction": {
  "Type": "AWS::Serverless::Function",
  "Properties": {
    "Handler": "Devon4Net.Application.Lambda::Devon4Net.Application.Lambda.Business.StringManagement.Functions.Upper.UpperFunction::FunctionHandler",
    "Runtime": "dotnet6",
    "CodeUri": "",
    "MemorySize": 256,
    "Timeout": 30,
    "Role": null,
    "Policies": [
      "AWSLambdaFullAccess",
      "AmazonSSMReadOnlyAccess",
      "AWSLambdaVPCAccessExecutionRole"
    ],
    "Environment": {
      "Variables": {}
    },
    "Events": {
      "ProxyResource": {
        "Type": "Api",
        "Properties": {
          "Path": "/{proxy+}",
          "Method": "ANY"
        }
      },
      "RootResource": {
        "Type": "Api",
        "Properties": {
          "Path": "/",
          "Method": "ANY"
        }
      }
    }
  }
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Properties</code> section will have the value of the location as we saw on the <code>aws-lambda-tools-defaults.json</code> file in the form of <code>{DLL_NAME}::{NAMESPACE}::{FUNCTION_HANDLER_NAME}</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Read the AWS documentation to learn more about this configuration.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_templates.asciidoc_samples">Samples</h6>
<div class="paragraph">
<p>As you may know as this point this template includes three samples that show you how to develop lambda functions and also how to interact with other services such as SNS and SQS.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Please go through the code slowly to understand the trace it follows and what it does.
</td>
</tr>
</tbody></table>
</div>
<div class="sect6">
<h7 id="devonfw-guide_devon4net.wiki_templates.asciidoc_snsmanagement">SnsManagement</h7>
<div class="paragraph">
<p>Amazon Simple Notification Service (Amazon SNS) is a fully managed messaging service for both application-to-application (A2A) and application-to-person (A2P) communication.</p>
</div>
<div class="paragraph">
<p>This Sample shows you the proper way of handling SNS Events and processing messages in a Lambda Function.</p>
</div>
</div>
<div class="sect6">
<h7 id="devonfw-guide_devon4net.wiki_templates.asciidoc_sqsmanagement">SqsManagement</h7>
<div class="paragraph">
<p>Amazon Simple Queue Service (SQS) is a fully managed message queuing service that enables you to decouple and scale microservices, distributed systems, and serverless applications.</p>
</div>
<div class="paragraph">
<p>This Sample shows you to handle and process Messages from an AWS Queue service directly in a Lambda Function</p>
</div>
</div>
<div class="sect6">
<h7 id="devonfw-guide_devon4net.wiki_templates.asciidoc_stringmanagement">StringManagement</h7>
<div class="paragraph">
<p>This is a very simple function that shows how you can perform a lambda to process a string and transform it to uppercase or lowercase.</p>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_references_8">References</h6>
<div class="ulist">
<ul>
<li>
<p><a href="https://aws.amazon.com/lambda/">AWS Lambda</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/code-samples/latest/catalog/lambda_functions-blank-csharp-src-blank-csharp-aws-lambda-tools-defaults.json.html">aws-lamda-tools-defaults.json</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/sdk-for-net/v3/developer-guide/net-dg-advanced-config.html" class="bare">https://docs.aws.amazon.com/sdk-for-net/v3/developer-guide/net-dg-advanced-config.html</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_devon4net.application.webapi.serverless">Devon4Net.Application.WebAPI.Serverless</h5>
<div class="paragraph">
<p>This package contains a template for building a serverless WebAPI.
It makes use of the <code>Devon4Net.Infrastructure.WebAPI.Serverless</code> component, therefore please read the documentation about it before using the template.
You also have a 'How to: AWS Serverless' guide that demonstrates you how to use this template to create a serverless WebAPI.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/WebAPI-AwsServerless-structure.png" alt="WebAPI AwsServerless structure">
</div>
<div class="title">Figure 161. webAPI serverless Template File structure</div>
</div>
<div class="paragraph">
<p>In the previous figure you can see the whole structure of the package.</p>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_configuration_9">Configuration</h6>
<div class="paragraph">
<p>The configuration files are the following:</p>
</div>
<div class="sect6">
<h7 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_appsettings.json_10">appsettings.json</h7>
<div class="paragraph">
<p>It’s the configuration file for the component. It can contain subversions following the structure <code>appsettings.{environment}.json</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "AWS": {
    "EnableAws": true,
    "UseSecrets": true,
    "UseParameterStore": true,
    "Credentials": {
      "Profile": "default",
      "Region": "eu-west-1",
      "AccessKeyId": "",
      "SecretAccessKey": ""
    },
    "Cognito": {
      "IdentityPools": [
        {
          "IdentityPoolId": "",
          "IdentityPoolName": "",
          "ClientId": ""
        }
      ]
    },
    "SqSQueueList": [
      {
        "QueueName": "", // Mandatory. Put the name of the queue here
        "Url": "", //optional. If it is not present, it will be requested to AWS
        "UseFifo": false,
        "MaximumMessageSize": 256,
        "NumberOfThreads": 2,
        "DelaySeconds": 0,
        "ReceiveMessageWaitTimeSeconds": 0,
        "MaxNumberOfMessagesToRetrievePerCall": 1,
        "RedrivePolicy": {
          "MaxReceiveCount": 1,
          "RedrivePolicy": {
            "MaxReceiveCount": 1,
            "DeadLetterQueueUrl": ""
          }
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UseSecrets</code>: Boolean to indicate if AWS Secrets Manager is being used.</p>
</li>
<li>
<p><code>UseParameterStore</code>: Boolean to indicate if AWS Parameter Store is being used.</p>
</li>
<li>
<p><code>Credentials</code>: Credentials for connecting the app with your AWS profile.</p>
</li>
<li>
<p><code>Cognito</code>: Amazon Cognito identity pools provide temporary AWS credentials for users who are guests (unauthenticated) and for users who have been authenticated and received a token. An identity pool is a store of user identity data specific to your account. In this section you can configure multiple IdentityPools.</p>
</li>
<li>
<p><code>SqSQueueList</code>: This section is used to configure the Amazon Simple Queue Service (SQS). You must configure some parameters about the queue:</p>
<div class="ulist">
<ul>
<li>
<p><code>QueueName</code>: The name of the queue, this field is required.</p>
</li>
<li>
<p><code>Url</code>: The queue’s url, this parameter is optional.</p>
</li>
<li>
<p><code>UseFifo</code>: We have two queue types in Amazon SQS, use <strong>false</strong> for Standard Queues or set this parameter to <strong>true</strong> for FIFO Queues.</p>
</li>
<li>
<p><code>MaximumMessageSize</code>: The maximum message size for this queue.</p>
</li>
<li>
<p><code>NumberOfThreads</code>: The number of threads of the queue.</p>
</li>
<li>
<p><code>DelaySeconds</code>: The amount of time that Amazon SQS will delay before delivering a message that is added to the queue.</p>
</li>
<li>
<p><code>ReceiveMessageWaitTimeSeconds</code>: The maximum amount of time that Amazon SQS waits for messages to become available after the queue gets a receive request.</p>
</li>
<li>
<p><code>MaxNumberOfMessagesToRetrievePerCall</code>: The maximum number of messages to retrieve per call.</p>
</li>
<li>
<p><code>RedrivePolicy</code>: Defines which source queues can use this queue as the dead-letter queue</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Read the <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-configure-queue-parameters.html">AWS SQS documentation</a> to learn more about the configuration of this kind of queues.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_references_11">References</h6>
<div class="ulist">
<ul>
<li>
<p><a href="https://aws.amazon.com/serverless/?nc1=h_ls">Serverless on AWS</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/cognito/latest/developerguide/identity-pools.html">Using identity pools</a></p>
</li>
<li>
<p><a href="https://aws.amazon.com/sqs/?nc1=h_ls">Amazon SQS</a></p>
</li>
<li>
<p><a href="https://aws.amazon.com/sqs/features/">Amazon SQS features</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-configure-queue-parameters.html">Configuring queue parameters</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-delay-queues.html">Amazon SQS delay queues</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-dead-letter-queues.html">Amazon SQS dead-letter queues</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_templates.asciidoc_devon4net.application.dynamodb">Devon4Net.Application.DynamoDb</h5>
<div class="paragraph">
<p>This package contains a template for building a DynamoDb database.
It makes use of the <code>Devon4Net.Infrastructure.DynamoDb</code> component, therefore please read the documentation about it before using the template.
You also have a 'How to: DynamoDb' section that explains how to use the component with some examples.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This template uses Lambda functions to get and set data into the DynamoDb database. if you don’t know about lambda functions, please read the 'How to: AWS Lambda Function' documentation.
</td>
</tr>
</tbody></table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/aws_dynamo_template_structure.png" alt="aws dynamo template structure">
</div>
<div class="title">Figure 162. DynamoDb Template File structure</div>
</div>
<div class="paragraph">
<p>In the previous figure you can see the whole structure of the package:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Domain</code>: Here are placed the necessary classes of the custom objects that are used to input and output the data in the lambda functions. The <code>Entity Repository</code> is used to manage these objects.</p>
</li>
<li>
<p><code>Dto</code>: Here are placed the necessary classes of the custom objects that are used to input and output the data in the lambda functions. These objects are managed with the <code>Table Repository</code>.</p>
</li>
<li>
<p><code>Functions</code>: This folder will contain the function definition for the lambda functions.</p>
</li>
<li>
<p><code>Handlers</code>: In this directory the classes that implement the <code>FunctionHandler</code> method that will define the lambda function behaviour.</p>
<div class="paragraph">
<p>In this case, we have a function that creates a DynamoDb table if it does not already exist and inserts data into it, it returns the value that was entered into the database.</p>
</div>
<div class="paragraph">
<p>This has been achieved in two ways: by making use of the <strong>Table repository</strong> (low-level model) or through the use of the <strong>Entity repository</strong> (persistence programming model)</p>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you need more information about Table or Entity Repository please check the documentation about the DynamoDb component.
</td>
</tr>
</tbody></table>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_configuration_12">Configuration</h6>
<div class="paragraph">
<p>The configuration files are the following:</p>
</div>
<div class="sect6">
<h7 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_appsettings.json_13">appsettings.json</h7>
<div class="paragraph">
<p>This file contains the configuration for all of the components and the project in general. It can contain subversions following the structure <code>appsettings.{environment}.json</code> and it contains the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "AWS": {
    "UseSecrets": true,
    "UseParameterStore": true,
    "Credentials": {
      "Profile": "",
      "Region": "eu-west-1",
      "AccessKeyId": "",
      "SecretAccessKey": ""
    }
  }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UseSecrets</code>: Boolean to indicate if AWS Secrets Manager is being used.</p>
</li>
<li>
<p><code>UseParameterStore</code>: Boolean to indicate if AWS Parameter Store is being used.</p>
</li>
<li>
<p><code>Credentials</code>: Credentials for connecting the app with your AWS profile.</p>
</li>
</ul>
</div>
</div>
<div class="sect6">
<h7 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_aws-lambda-tools-defaults.json_14">aws-lambda-tools-defaults.json</h7>
<div class="paragraph">
<p>This file provides default values to the AWS CLI for configuring and deploy with Visual Studio.</p>
</div>
<div class="paragraph">
<p>You can run this command to learn more:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">dotnet lambda deploy-serverless --help</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "Information": [
    "This file provides default values for the deployment wizard inside Visual Studio and the AWS Lambda commands added to the .NET Core CLI.",
    "To learn more about the Lambda commands with the .NET Core CLI execute the following command at the command line in the project root directory.",
    "dotnet lambda help",
    "All the command line options for the Lambda command can be specified in this file."
  ],
  "profile": "default",
  "region": "eu-west-1",
  "framework": "net6.0",
  "function-runtime": "dotnet6",
  "configuration": "Release",
  "s3-prefix": "AWSServerlessTest/",
  "function-memory-size": 256,
  "function-timeout": 30,
  "function-handler": "Devon4Net.Application.DynamoDb::Devon4Net.Application.DynamoDb.business.DynamoDbManagement.Functions.DynamoDbManagementFunction::FunctionHandler",
  "template": "serverless.template"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>function-handler</code> option is the function handler location in the form of <code>Assembly::Namespace.ClassName::MethodName</code>. And the <code>template</code> option will point to a configuration file for the cloud formation.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Read the AWS documentation to learn more about this configuration.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect6">
<h7 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_serverless.template_15">serverless.template</h7>
<div class="paragraph">
<p>This configuration sends all of the information to the Cloud System, so you don’t have to change anything when deploying the functions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Transform": "AWS::Serverless-2016-10-31",
  "Description": "An AWS Serverless Application that uses the ASP.NET Core framework running in Amazon Lambda.",
  "Parameters": {},
  "Conditions": {},
  "Resources": {
    "DynamoDbFunction": {...},
    "DynamoDbComplesObjectFunctionEventHandler": {...},
  },
  "Outputs": {
    "ApiURL": {
      "Description": "API endpoint URL for Prod environment",
      "Value": {
        "Fn::Sub": "https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/"
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the <code>Resources</code> section includes the configuration for each function.</p>
</div>
<div class="paragraph">
<p>This configuration will appear as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"DynamoDbFunction": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "Devon4Net.Application.DynamoDb::Devon4Net.Application.DynamoDb.business.DynamoDbManagement.Functions.DynamoDbManagementFunction::FunctionHandler",
        "Runtime": "dotnet6",
        "CodeUri": "",
        "MemorySize": 256,
        "Timeout": 30,
        "Role": null,
        "Policies": [
          "AWSLambdaFullAccess",
          "AmazonSSMReadOnlyAccess",
          "AWSLambdaVPCAccessExecutionRole"
        ],
        "Environment": {
          "Variables": {}
        },
        "Events": {
          "ProxyResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/{proxy+}",
              "Method": "ANY"
            }
          },
          "RootResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/",
              "Method": "ANY"
            }
          }
        }
      }
    },</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Properties</code> section will contain the value of the location, as seen in the <code>aws-lambda-tools-defaults.json</code> file in the form of <code>Assembly::Namespace.ClassName::MethodName</code>.</p>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_templates.asciidoc_references_16">References</h6>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GettingStarted.html">Getting started with DynamoDB and AWS SDKs</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/sdk-for-net/v3/developer-guide/dynamodb-intro.html">Using Amazon DynamoDB NoSQL databases</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/WorkingWithTables.Basics.html">Basic operations on DynamoDB tables</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SettingUp.DynamoWebService.html">Setting up DynamoDB (web service)</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>↑&nbsp;Up:&nbsp;<a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_templates.html">Templates</a>&nbsp;| ⌂&nbsp;Home:&nbsp;<a href="master.html">devonfw guide</a>&nbsp;| Next:&nbsp;<a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_samples.html">Samples</a>&nbsp;→</p>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2023-10-06 16:30:40 UTC
</sub></div>


<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async="" src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      
      const parseCookie = str =>
        str
        .split(';')
        .map(v => v.split('='))
        .reduce((acc, v) => {
          acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
          return acc;
        }, {});
      
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      } else {
        cookies = parseCookie(document.cookie);
        if (cookies["cookie_consent"] == "accept") {
          consentGranted();
        }
      }
      
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>

</body></html>